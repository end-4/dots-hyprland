"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2551],{61621:(e,s,a)=>{a.d(s,{M:()=>S,f:()=>I});var t=a(30758),n=a(97500),l=a.n(n),i=a(61e3),r=a(11205),o=a(106),d=a(93492),c=a(80600),u=a(38557),h=a(45176);var m=a(92197),p=a(22220),x=a(15283),g=a(97137),v=a(49753),f=a(48975),N=a(16674),w=a(46440);const b="x-downloadButton-DownloadButton",y="x-downloadButton-button",j="x-downloadButton-cancelDownload",R="x-downloadButton-progress";var k=a(86070);let S=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const E=e=>{const{currentTarget:s,detail:a}=e;a>0&&s&&s.blur()},I=({uri:e,isFollowing:s,onFollow:a,size:n=S.sm,className:I,onClick:M=()=>{},showUpsell:O=!0,canDownload:C=!0,condensedAll:P,condensed:A})=>{const[_,z]=(0,t.useState)(!1),{capability:D,availability:V,addDownload:Y}=(0,N.$)(e,C),B=!(0,f.n)(),L=(0,v.V)(),T=(0,w.e)(e);((e,s)=>{const a=(0,c.i)(),n=(0,t.useRef)(!1);(0,t.useEffect)((()=>{e===h.kw.DOWNLOADING&&!1===n.current&&(n.current=!0,a.say(d.Ru.get("download.downloading",s.totalItems)))}),[a,e,s]);const l=(0,u.Z)(e);(0,t.useEffect)((()=>{l===h.kw.DOWNLOADING&&e===h.kw.YES&&(n.current=!1,a.say(d.Ru.get("download.complete")))}),[a,l,e])})(V,T);const X=(0,t.useCallback)((e=>{e.preventDefault(),D===h.vs.NO_PERMISSION?M(e,h.NV.NO_PERMISSION):(!1===s?(a(),z(!0)):Y(),M(e,h.NV.ADD)),E(e)}),[Y,D,s,M,a]),Z=(0,t.useCallback)((s=>{s.preventDefault(),L(e),E(s),M(s,h.NV.REMOVE)}),[e,L,M]);if((0,t.useEffect)((()=>{!0===_&&!0===s&&(Y(),z(!1))}),[s,_,Y]),V===h.kw.YES)return(0,k.jsx)(m.Zp,{label:d.Ru.get("download.remove"),children:(0,k.jsx)(i.H,{className:I,onClick:Z,iconOnly:r.F,semanticColor:"textBrightAccent",size:n,"aria-label":d.Ru.get("download.remove"),"aria-checked":!0,condensedAll:P,condensed:A})});if(D===h.vs.NO_CAPABILITY||D===h.vs.NO_PERMISSION_HIDE)return null;if(D===h.vs.NO_PERMISSION)return O?(0,k.jsx)("div",{className:l()(b,I),children:(0,k.jsx)(g.y,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,k.jsx)(x.z,{children:(0,k.jsx)("span",{children:d.Ru.get("download.upsell")})}),renderInline:!1,children:(0,k.jsx)("div",{children:(0,k.jsx)(m.Zp,{label:d.Ru.get("download.download"),children:(0,k.jsx)(i.H,{onClick:X,iconOnly:o.i,size:n,"aria-label":d.Ru.get("download.download"),"aria-checked":!1,condensedAll:P,condensed:A,disabled:B})})})})}):null;if(V===h.kw.NO)return(0,k.jsx)(m.Zp,{label:d.Ru.get("download.download"),children:(0,k.jsx)(i.H,{className:I,onClick:X,iconOnly:o.i,size:n,"aria-label":d.Ru.get("download.download"),"aria-checked":!1,condensedAll:P,condensed:A,disabled:B})});let q;switch(n){case S.xs:q=16;break;case S.sm:q=24;break;default:q=32}return(0,k.jsxs)("div",{className:l()(j,I),role:"switch","aria-checked":!0,children:[(0,k.jsx)(m.Zp,{label:d.Ru.get("download.cancel"),children:(0,k.jsx)("button",{style:{height:q,width:q},className:l()(y,I),onClick:Z,"aria-label":d.Ru.get("download.cancel")})}),(0,k.jsx)("span",{className:l()(R),children:(0,k.jsx)(p.C,{"aria-valuetext":d.Ru.get("progress.downloading-tracks"),percentage:T.percentage,size:q})})]})}},67391:(e,s,a)=>{a.d(s,{d:()=>d});var t=a(97500),n=a.n(t),l=a(2312),i=a(22805);const r="UyzJidwrGk3awngSGIwv";var o=a(86070);const d=({durationMs:e,className:s,displaySeconds:a})=>{const{hours:t,minutes:d,seconds:c}=(0,l.S)(e);return a=!1!==a&&!t&&c,(0,o.jsx)("span",{className:n()(r,s),children:(0,i.j)({h:t,m:d,s:a?c:0})})}},52403:(e,s,a)=>{a.d(s,{j:()=>S});var t=a(53780);const n="wIA_5Ypq0rltNPeZQpM4",l="Swi6YtNEFCCVz8l4y75v",i="pklLPOhfigdytL9bPoth",r="sb24Y8kdMZInJ8aI8dXT";var o=a(86070);function d({ariaValueText:e,max:s,current:a}){const t=s&&a?100*Math.min(1,a/s):0,d={transform:`translateX(-${100-t}%)`},c=e||`${Math.round(t)}%`;return(0,o.jsxs)("div",{className:n,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":s,"aria-valuetext":c,children:[(0,o.jsx)("div",{className:l}),(0,o.jsx)("div",{className:i,children:(0,o.jsx)("div",{"data-testid":"progressBarFg",className:r,style:d})})]})}const c="qfYkuLpETFW3axnfMntO",u="_q93agegdE655O5zPz6l",h="z7Yl7CIT1AB0y91f_moh",m="iLIlkUcfIq56KncGtX7u",p="nV50yZ6BR_TIuWP3l7b1",x="qLjIx_SzBEpDRA_q7kxQ";var g=a(13505),v=a(51824),f=a(93492),N=a(97500),w=a.n(N),b=a(67391),y=a(2312),j=a(22805);const R="xWm_uA0Co4SXVxaO7wlB",k=({durationMs:e,className:s,displaySeconds:a})=>{const{hours:t,minutes:n,seconds:l}=(0,y.S)(e);a=!1!==a&&!t&&l;const i=(0,j.j)({h:t,m:n,s:a?l:0});return i?(0,o.jsx)("span",{className:w()(R,s),children:f.Ru.get("time.left",i)}):null},S=e=>{const{resumePositionMs:s=0,releaseDate:a,isPlaying:n,fullyPlayed:l,durationMs:i,position:r=s,compactVariant:N=!1,className:y,progressBarClassName:j,progressStateClassName:R,releaseDateClassName:S}=e,E=a&&a.isoString?(0,o.jsx)(g.E,{as:"p",variant:"bodySmall",className:u,children:(0,t.V2)((0,t.ad)(a.isoString),a.precision)}):null,I=(()=>{if(0===i)return null;if(l&&!n)return(0,o.jsxs)("div",{className:w()(m,R),children:[(0,o.jsx)(g.E,{as:"p",variant:"bodySmall",className:h,children:f.Ru.get("episode.audiobook.chapter.finished")}),(0,o.jsx)(v.i,{size:"small",className:x,"aria-hidden":"true"})]});if(r>0||n){const e=Math.ceil(Math.max(i-r,0));return(0,o.jsx)("div",{className:w()(m,R),children:(0,o.jsx)(g.E,{as:"p",variant:"bodySmall",className:h,children:(0,o.jsx)(k,{durationMs:e,displaySeconds:!N&&void 0})})})}return(0,o.jsx)(g.E,{as:"p",variant:"bodySmall",className:w()(u,S),"data-testid":"episode-progress-not-played",children:(0,o.jsx)(b.d,{durationMs:i,displaySeconds:!N&&void 0})})})(),M=0===i?null:!l&&r>0||n?(0,o.jsx)("div",{className:w()(p,j),children:(0,o.jsx)(d,{current:r,max:i})}):null;return E||I||M?(0,o.jsxs)("div",{className:w()(c,y),children:[E,I,M]}):null}},80600:(e,s,a)=>{a.d(s,{i:()=>l});var t=a(30758);class n{constructor(e={}){this.settings={level:e.level||"polite",parent:e.parent||document.body,idPrefix:e.idPrefix||"live-region-",delay:e.delay||0},this.currentRegion=document.createElement("span")}say(e,s=this.settings.delay){this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());const a="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",a),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((()=>{this.currentRegion.textContent=e}),s)}clearNode(){const e=this.settings.parent.querySelector(`[id^="${this.settings.idPrefix}"]`);e&&this.settings.parent.removeChild(e)}}const l=({delay:e,idPrefix:s,level:a,parent:l}={})=>{const i=(0,t.useMemo)((()=>new n({delay:e,idPrefix:s,level:a,parent:l})),[e,s,a,l]);return(0,t.useEffect)((()=>()=>{i.clearNode()}),[i]),i}},38557:(e,s,a)=>{a.d(s,{Z:()=>n});var t=a(30758);function n(e){const s=(0,t.useRef)();return(0,t.useEffect)((()=>{s.current=e}),[e]),s.current}}}]);
//# sourceMappingURL=2551.js.map