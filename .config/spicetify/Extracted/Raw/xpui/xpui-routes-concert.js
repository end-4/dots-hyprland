"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1408,9209],{98016:(e,t,r)=>{r.d(t,{w:()=>m});var n=r(30758),a=r(97500),s=r.n(a),i=r(8126),o=r(93492),c=r(68692),l=r(73080);const d="pvGZ831aNzHTQMZ8CA_u";var u=r(86070);const m=(0,n.memo)((function({onClick:e=()=>{},size:t,className:r,uri:a,sharingInfo:m,interactionData:h,ariaLabel:g=o.Ru.get("mwp.list.item.share"),condensedAll:p,placement:x,semanticColor:j,disableTooltip:v}){const{onCopyLink:y}=(0,l.L)({sharingInfo:m,uri:a,interactionData:h}),f=(0,n.useCallback)((()=>{y(),e()}),[e,y]);return(0,u.jsx)(c.a,{ariaLabel:g,size:t,onClick:f,className:s()(d,r),icon:i.C,condensedAll:p,placement:x,condensed:!0,semanticColor:j,disableTooltip:v})}))},54916:(e,t,r)=>{r.d(t,{a:()=>v});var n=r(36625),a=r(93492),s=r(14064),i=r(92907),o=r(30848),c=r(97194),l=r(47300),d=r(4608),u=r(31618),m=r(12367),h=r(56463),g=r(60841),p=r(26923),x=r(2036),j=r(86070);const v=({name:e,uri:t,images:r,artists:v=[],sharingInfo:y,year:f,isHero:C=!1,onClick:b,testId:N,index:_,requestId:I,color:S,variant:R,isPlayable:k,isRestricted:w,logCardImpressions:T=!1,albumType:D="ALBUM"})=>{let L;const{playUri:U,playOptions:M}=(0,p.J)(t),E=()=>v.map((e=>e.name)).join(a.Ru.getSeparator()),P=!(0,g.V)()&&w;return L=C?(0,j.jsx)(l.A,{index:_,onClick:b,headerText:e,featureIdentifier:"album",uri:t,playUri:U,playOptions:M,isPlayable:k,ariaPauseLabel:a.Ru.get("tracklist.a11y.pause",e,E()),ariaPlayLabel:a.Ru.get("tracklist.a11y.play",e,E()),renderCardImage:()=>(0,j.jsx)(o.M,{isHero:!0,images:r,color:S,FallbackComponent:e=>(0,j.jsx)(n.I,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,j.jsxs)(c.c,{isHero:!0,children:[P&&(0,j.jsx)(u.$,{}),(0,j.jsx)(d.t,{children:(0,x.C)(D)}),v.map(((r,n)=>[n>0&&a.Ru.getSeparator(),(0,j.jsx)(s.m,{artist:r,index:n,logger:e,spec:t},r.uri)]))]}),testId:N,requestId:I,logCardImpressions:T}):(0,j.jsx)(i.Z,{variant:R,onClick:b,headerText:e,featureIdentifier:"album",uri:t,playUri:U,playOptions:M,isPlayable:k,ariaPauseLabel:a.Ru.get("tracklist.a11y.pause",e,E()),index:_,ariaPlayLabel:a.Ru.get("tracklist.a11y.play",e,E()),renderCardImage:()=>(0,j.jsx)(o.M,{isHero:C,images:r,color:S,FallbackComponent:e=>(0,j.jsx)(n.I,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,j.jsxs)(c.c,{children:[P&&(0,j.jsx)(u.$,{}),!!f&&(0,j.jsxs)("time",{dateTime:f.toString(),children:[f," • "]}),v.map(((r,n)=>[n>0&&a.Ru.getSeparator(),(0,j.jsx)(s.m,{artist:r,index:n,logger:e,spec:t},r.uri)]))]}),testId:N,requestId:I,logCardImpressions:T}),(0,j.jsx)(m.h,{menu:(0,j.jsx)(h.h,{uri:t,artistUri:v?.[0]?.uri,sharingInfo:y}),children:L})}},14064:(e,t,r)=>{r.d(t,{m:()=>d});var n=r(30758),a=r(13505),s=r(12367),i=r(96691),o=r(5119),c=r(89232),l=r(86070);const d=({artist:e,index:t,logger:r,spec:d})=>{const u=(0,n.useCallback)((()=>{r&&d&&r.logInteraction(d.cardLinkFactory({position:t}).hitUiNavigate({destination:e.uri}))}),[r,d,t,e.uri]);return(0,c.s)(e)&&e.uri?(0,l.jsx)(s.h,{menu:(0,l.jsx)(i.t,{uri:e.uri}),children:(0,l.jsx)(o.N,{to:e.uri,dir:"auto",onClick:u,children:e.name})},e.uri):(0,l.jsxs)(a.E,{variant:"bodySmall",children:[e.name," "]})}},74918:(e,t,r)=>{r.d(t,{B:()=>C});var n=r(30758),a=r(1648),s=r(13505),i=r(93492),o=r(92907),c=r(30848),l=r(97194),d=r(47300),u=r(4608),m=r(12367),h=r(26630),g=r(34855),p=r(5119),x=r(46970),j=r(59829),v=r(70777),y=r(86070);const f=(e,t)=>(r,n)=>{n&&e.logInteraction(t.cardLinkFactory({position:0}).hitUiNavigate({destination:n}))},C=({name:e,uri:t,images:r,description:C,authorName:b,authorUri:N,isHero:_=!1,onClick:I=()=>{},testId:S,index:R,requestId:k,color:w,isPlayable:T,variant:D,logCardImpressions:L=!1,leaveTitleVisible:U})=>{let M,E=(0,y.jsx)(h.W,{uri:t}),P=T,A=!1;const F=N||"",O=(0,n.useCallback)((()=>{I?.(F)}),[I,F]);(0,j.c0)(t)&&(P=!0,E=(0,y.jsx)(x.gb,{}),A=!0);const B=U||!("spotify:user:spotify"===N);return M=_?(0,y.jsx)(d.A,{index:R,onClick:I,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:A,renderCardImage:()=>(0,y.jsx)(c.M,{isHero:!0,images:r,color:w,FallbackComponent:e=>(0,y.jsx)(a.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,y.jsxs)(l.c,{isHero:!0,children:[(0,y.jsx)(u.t,{children:i.Ru.get("card.tag.playlist")}),C?(0,y.jsx)(v.N,{source:C,LinkComponent:p.N,onLinkClick:f(e,t)}):b&&N&&(0,y.jsx)(m.h,{menu:(0,y.jsx)(g.B,{uri:F}),children:(0,y.jsx)(s.E,{variant:"bodySmall",children:(0,y.jsx)(p.N,{to:F,onClick:O,children:b})})})]}),testId:S,requestId:k,isPlayable:P,logCardImpressions:L}):(0,y.jsx)(o.Z,{variant:D,index:R,onClick:I,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:A,renderCardImage:()=>(0,y.jsx)(c.M,{images:r,color:w,FallbackComponent:e=>(0,y.jsx)(a.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,y.jsx)(l.c,{children:C?(0,y.jsx)(v.N,{source:C,LinkComponent:p.N,onLinkClick:f(e,t)}):b&&(0,y.jsx)("span",{children:i.Ru.get("search.playlist-by",b)})}),testId:S,requestId:k,isPlayable:P,logCardImpressions:L,showTitle:B}),(0,y.jsx)(m.h,{menu:E,children:M})}},67507:(e,t,r)=>{r.d(t,{u:()=>y});var n=r(30758),a=r(40565),s=r(3118),i=r(93492),o=r(55669),c=r(56695),l=r(42026),d=r(2082),u=r(61890),m=r(48785),h=r(90630),g=r(24395),p=r(68508),x=r(69611),j=r(78172),v=r(86070);const y=n.memo((function({uri:e,onClickNotInterested:t,canPin:r=p.oT.NO,isPinned:n=!1}){const{spec:y}=(0,x.o)(e),f=(0,s.NC)(h.ihJ);return(0,v.jsx)(g.pZ,{value:"concert",children:(0,v.jsxs)(o.W,{children:[!!t&&(0,v.jsx)(c.D,{role:"menuitem",leadingIcon:(0,v.jsx)(a.P,{semanticColor:"textSubdued",size:"small"}),onClick:t,children:i.Ru.get("concerts.not_interested.title")}),r!==p.oT.NO&&f&&(0,v.jsx)(u.k,{uri:e,canPin:r,isPinned:n,type:j.c.CONCERT,spec:y}),(0,v.jsx)(m.h,{children:(0,v.jsx)(l.m,{spec:y,uri:e,displayText:i.Ru.get("context-menu.copy-concert-link")})}),(0,v.jsx)(d.q,{spec:y,uri:e})]})})}))},15733:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(30758),a=r(88520),s=r(86070);const i=(0,n.memo)((function({children:e}){return(0,s.jsx)("span",{className:a.A.detailsText,children:e})}))},72869:(e,t,r)=>{r.d(t,{q:()=>l});var n=r(30758),a=r(97500),s=r.n(a),i=r(9880),o=r(69322),c=r(86070);const l=n.memo(n.forwardRef((function({html:e,onTimeStampClick:t,enableTimestamps:r=!1,enableAutomaticLinkification:a=!1,semanticColor:l="textSubdued",className:d,asTextContent:u=!1},m){const h=(0,n.useMemo)((()=>(0,i.v)(e,t,r,l,a,u)),[r,a,e,t,l,u]);return(0,c.jsx)("div",{ref:m,className:s()(o.A.HTMLDescription,d),children:h})})))},9880:(e,t,r)=>{r.d(t,{v:()=>x});var n=r(30758),a=r(6936),s=r.n(a),i=r(13505);const o=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var c=r(5119),l=r(86070);const d=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,u=/^https?:\/\//;function m(e){return"string"==typeof e?(0,l.jsx)(l.Fragment,{children:e.split(d).map(((e,t)=>t%2?(0,l.jsx)(c.N,{to:`${u.test(e)?"":"https://"}${e}`,rel:"nofollow",children:e},t):e))}):e}var h=r(25983),g=r(69322);const p=(e=()=>{},t,r,a)=>{let s=0;const o={_:(e,t,i)=>{const o=void 0===t?e:i;return(0,l.jsx)(n.Fragment,{children:r&&!a?m(o):o},"fragment"+s++)}};if(a)return o;return{...o,p:e=>(0,l.jsx)(i.E,{as:"p",variant:"bodyMedium",semanticColor:t,className:g.A.Paragraph,children:r?m(e.children):e.children}),a:t=>t.href?.startsWith("#t=")?(0,l.jsx)(h.D,{onClick:e,children:t.children}):t.href?(0,l.jsx)(c.N,{to:t.href,rel:t.rel,children:t.children}):(0,l.jsx)(l.Fragment,{children:t.children}),ul:e=>(0,l.jsx)("ul",{className:g.A.List,children:e.children}),ol:e=>(0,l.jsx)("ol",{className:g.A.List,children:e.children}),li:e=>(0,l.jsx)(i.E,{as:"li",variant:"bodyMedium",semanticColor:t,className:g.A.ListItem,children:r?m(e.children):e.children}),br:()=>(0,l.jsx)("br",{}),h1:e=>(0,l.jsx)(i.E,{as:"h1",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h2:e=>(0,l.jsx)(i.E,{as:"h2",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h3:e=>(0,l.jsx)(i.E,{as:"h3",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h4:e=>(0,l.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h5:e=>(0,l.jsx)(i.E,{as:"h5",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h6:e=>(0,l.jsx)(i.E,{as:"h6",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),time:t=>(0,l.jsx)(h.D,{onClick:e,children:t.children})}},x=(e,t=()=>{},r=!1,n="textSubdued",a=!1,i=!1)=>{const c=r?e.split(o).map((e=>e.match(o)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):e;let l;try{l=s()(c,{transform:p(t,n,a,i),dangerouslySetChildren:[]})}catch{l=e}return l}},66637:(e,t,r)=>{r.d(t,{I:()=>u});var n=r(85387),a=r(26446),s=r(45143),i=r(72574),o=r(93492),c=r(19469),l=r(99802),d=r(86070);const u=({concepts:e,spec:t})=>{const r=(0,n.Zp)(),u=e.filter(c.V5),m=(0,l.s)();return(0,d.jsx)("div",{style:{"--background-base":"transparent"},children:(0,d.jsx)(a.I,{mode:"navigation","aria-label":o.Ru.get("card.tag.genre"),children:u.map(((e,n)=>{const a=`/concerts/genre/${(0,i.o_h)(e.data.uri)?.id}-${e.data.name.replaceAll(" ","-")}`;return(0,d.jsx)(s.v,{onClick:s=>{((e,n,a,s)=>{e.preventDefault(),r(n);const o=(0,i.o_h)(a)?.id;if(!o||!t)return;const c=t.conceptButtonFactory({uri:a,position:s}).hitUiNavigate({destination:`spotify:concerts:genre:${o}`});m.logInteraction(c)})(s,a,e.data.uri,n+1)},href:a,children:e.data.name},e.data.uri)}))})})}},27100:(e,t,r)=>{r.d(t,{A:()=>f});var n=r(30758),a=r(26411),s=r(13505),i=r(24587),o=r(5119),c=r(69249),l=r(34407);const d="wedRUk4eiBo9n9vqXLhU",u="hMbtEskyvMbDiwq1EScA",m="HYVIJaYYiCTgSCHie70L",h="SPbe_Q1wtiZQCmo0QKUy",g="TRp4tgG7_cymGIXDevIP",p="tC1Y_nwyyly7cpIGqF5K",x="l93AfoV_qHnMQSQBB5GK",j="DgDBmSR2sbwji2UfqxIf",v="EkGb0ZzhswreSvpZoioY";var y=r(86070);const f=(0,n.memo)((e=>{const{uri:t,title:r,imageUrl:n,date:f,subTitle:C,firstParty:b,onClick:N}=e,_=f?(0,c.l4)(f):void 0;return(0,y.jsx)(o.N,{to:t,className:d,"data-testid":"concert-card",onClick:N,children:(0,y.jsxs)("div",{className:u,children:[(0,y.jsx)(l.b,{children:(0,y.jsx)("div",{role:"img",className:v,style:{backgroundImage:`url(${n})`},children:!n&&(0,y.jsx)(a.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),_&&(0,y.jsxs)("time",{className:m,dateTime:f,children:[(0,y.jsx)(s.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(_)}),(0,y.jsx)(s.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(_)})]}),(0,y.jsxs)("div",{className:h,dir:"auto",children:[(0,y.jsx)(s.E,{as:"h3",variant:"bodyMedium",className:g,children:r}),(0,y.jsxs)("div",{className:p,children:[b&&(0,y.jsx)("span",{className:j,children:(0,y.jsx)(i.D,{size:"small"})}),(0,y.jsx)(s.E,{as:"span",className:x,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:C})]})]})]})})}))},21996:(e,t,r)=>{r.d(t,{d:()=>n});const n=new(r(44947).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},85782:(e,t,r)=>{r.d(t,{$:()=>n});const n=new(r(44947).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},19469:(e,t,r)=>{r.d(t,{$V:()=>n,Bw:()=>l,Lw:()=>c,V5:()=>u,dR:()=>i,eO:()=>o,m4:()=>m,se:()=>s,w1:()=>d,ys:()=>a});const n=e=>"data"in e&&Object.keys(e.data).length>0,a=e=>"concerts"in(e??{}),s=e=>null!=e,i=e=>"__typename"in e&&"AllEvents"===e.__typename,o=e=>"__typename"in e,c=e=>"__typename"in e,l=e=>!!e&&"sections"in e,d=e=>"__typename"in e,u=e=>Object.keys(e).includes("data"),m=e=>void 0!==e&&Object.keys(e).includes("uri")},89854:(e,t,r)=>{r.r(t),r.d(t,{default:()=>sr});var n=r(62411),a=r(85387),s=r(13505),i=r(3118),o=r(96553),c=r(72574),l=r(93492),d=r(44451),u=r(64359),m=r(94201),h=r(15733),g=r(4378),p=r(11951),x=r(49022),j=r(26101),v=r(8030),y=r(66637),f=r(30758),C=r(43871),b=r(3585),N=r(93429),_=r(72869),I=r(5119),S=r(17381),R=r(61697),k=r(99802);const w="m8qhw073nx4vyHqaKQNk",T="ynP6muypg8KBMGNcHY5O",D="oDWtgFmvo78XypRSXSZE",L="XWKf1nJGSBaIxrSQhIft",U="nodWKfeO11pb9KDWwHMz",M="oFT4l9ImW_EmgL7n4Gpw";var E=r(86070);const P=(0,f.memo)((e=>{const{pathname:t}=(0,a.zy)(),{location:r,showTime:n,ageRestriction:i,htmlDescription:o,doorsOpenTime:c,spec:d}=e,u=(0,k.s)(),m=r.metroAreaLocation?(0,R.nm)(t,r.metroAreaLocation?.geonameId,r.metroAreaLocation?.fullName):null;return(0,E.jsxs)("div",{className:w,children:[o?.trim()&&(0,E.jsxs)("div",{className:T,children:[(0,E.jsx)(s.E,{as:"h2",variant:"titleSmall",className:D,children:l.Ru.get("artist.about")}),(0,E.jsx)(_.q,{html:o,onTimeStampClick:()=>{}})]}),(0,E.jsxs)("div",{className:T,children:[(0,E.jsx)(s.E,{as:"h3",variant:"titleSmall",className:D,children:l.Ru.get("tracklist.header.venue")}),(0,E.jsxs)("div",{className:M,children:[(0,E.jsx)(C.t,{className:L}),(0,E.jsxs)("div",{children:[(0,E.jsx)(s.E,{as:"h4",variant:"bodyMediumBold",className:U,children:r.name}),(0,E.jsx)(s.E,{as:"p",variant:"bodyMedium",children:(0,S.im)({...r,name:""})})]})]}),(0,E.jsxs)("div",{className:M,children:[(0,E.jsx)(b.p,{className:L}),(0,E.jsxs)("div",{children:[(0,E.jsxs)(s.E,{as:"h4",variant:"bodyMediumBold",className:U,children:[c&&(0,E.jsx)("time",{dateTime:c.toISOString(),children:l.Ru.get("concert.door_time",l.Ru.formatDate(c,{timeStyle:"short"}))}),c&&" • ",(0,E.jsx)("time",{dateTime:n.toISOString(),children:l.Ru.get("concert.show_time",l.Ru.formatDate(n,{timeStyle:"short"}))})]}),i?.trim()&&(0,E.jsx)(s.E,{as:"p",variant:"bodyMedium",children:i})]})]}),m&&(0,E.jsxs)("div",{className:M,children:[(0,E.jsx)(N.T,{className:L}),(0,E.jsx)(I.N,{to:m,onClick:()=>(e=>{const t=d.concertLocationLinkFactory().hitUiNavigate({destination:e});u.logInteraction(t)})(m),children:(0,E.jsx)(s.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:l.Ru.get("concert.see_more_events_in_location",r.metroAreaLocation?.fullName)})})]})]})]})}));var A=r(60749),F=r(79202),O=r(98016),B=r(585),q=r(67507),z=r(21974),$=r(51824),H=r(45994),V=r(92197),Z=r(21996),Q=r(85782),K=r(26906),Y=r(71338),G=r(39876);const W="JRuVlk6wpKk6ok7zuW6l",X="YpfopxY2udneDY34uzRN",J="KI_0F1jtTR5tWgl7gZ1E",ee="gKtc3TdowDTXBaVESi1D",te="V8TIr8yJq4tYZfPEzm12",re="rWFRSaU8daVvtbWEjvp7",ne="VvL91cIRcCi1hJh0K845",ae="LdW0YNvo_Y77hgqhL4zY",se="cTkykhjfHxkEGKbxSxXw",ie="XgeTnLs82tTjczDR6oKn",oe="P3fE7wn6Tqnibn3gljKV",ce="b3qjYcKXwrvfkQkOLMhZ",le="A8LG_5Dvp7IiXDtdR571",de="O0PSSw8ttrMn9lzq_L16",ue="D_ffrfn62aOgZKOFfZVr",me="OH4mOZCual2ejIodzIkL",he="se_ixDV6hBf7lve861oU",ge="YDAJHPP5lDmg71SdvJZC",pe="lKQxSRsi8KcoYx5D7mjh",xe="LUMel_X4gQK0J1i6X0sC",je="eIA_y6wnyKS7F4BkMraV",ve="CKbduoHBINBakBcguVzi",ye="oCmeNmHdfNzMD6n4mSqw",fe="l6M4kfGer7xxBaIPco5p",Ce="r5hQwOq0RGo1ptvIthJ0",be="ATEdvw7q5RVFqV_7k5xm",Ne="UHICx5Pfx66QaNrl4qIZ",_e="G3mQO0982j3xeMZSBLbU",Ie=(e,t)=>e(Z.d,{concertUri:t}),Se=(e,t)=>e(Q.$,{concertUri:t}),Re=(0,f.memo)((e=>{const[t,r]=(0,f.useState)(!1),{concertUri:n,entitySpec:a}=e,s=(0,f.useMemo)((()=>a?.interestedButtonFactory()),[a]),{getGraphQLLoader:i}=(0,K.mv)(),o=i(),{addConcertToLibraryMutation:c=Ie,removeConcertFromLibraryMutation:d=Se}=e,u=(0,G.t)(s),m=(0,k.s)(),{enqueueSnackbar:h}=(0,Y.d)();return(0,E.jsx)(V.Zp,{label:l.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,E.jsx)(z.n,{ref:u,size:"small",iconLeading:e.saved?$.i:H.u,className:xe,"aria-checked":e.saved,disabled:t,onClick:async()=>{r(!0);try{if(e.saved){const t=s?.hitRemoveInterest();t&&m.logInteraction(t),await d(o,n),await e.onSaveConcert(),h(l.Ru.get("concerts_removed-from-your-saved-events"))}else{const t=s?.hitAddInterest();t&&m.logInteraction(t),await c(o,n),await e.onSaveConcert(),h(l.Ru.get("concerts_added-to-your-saved-events"))}}finally{r(!1)}},children:l.Ru.get("concerts_interested")})})}));var ke=r(61e3),we=r(40565),Te=r(44947);const De=new Te.l("concertNotInterestedSet","mutation","81c188764fbf5c76d6b10a47c7b3623b46d9d13d69663a3774cfeae89d52e16e",null),Le=(e,t)=>e(De,t),Ue=e=>{const{onSetNotInterested:t=Le}=e,{getGraphQLLoader:r}=(0,K.mv)(),{enqueueSnackbar:n}=(0,Y.d)(),a=(0,k.s)(),s=r(),i=(0,f.useMemo)((()=>e.spec?.notInterestedButtonFactory({uri:e.concertUri})),[e.concertUri,e.spec]);return(0,E.jsx)(V.Zp,{label:l.Ru.get("concerts.not_interested.set.label"),placement:"top-end",children:(0,E.jsx)(ke.H,{onClick:async()=>{i&&a.logInteraction(i?.hitRemoveInterest());try{const r=await t(s,{artistUri:e.artistUri,concertUri:e.concertUri});return"SetConcertNotInterested"!==r?.data?.setConcertNotInterested.__typename&&n(l.Ru.get("concerts.not_interested.undo.error")),e.onComplete()}catch{return n(l.Ru.get("concerts.not_interested.undo.error")),e.onComplete()}},"aria-label":l.Ru.get("concerts.not_interested.set.label"),iconOnly:()=>(0,E.jsx)(we.P,{})})})};var Me=r(74455);const Ee=new Te.l("concertNotInterestedUndo","mutation","6e7189ddd2537fa7f9700324986c1f062790746df9183066077952e5ca13494c",null);var Pe=r(88176);const Ae=(e,t)=>e(Ee,t),Fe=e=>{const{onUndoNotInterested:t=Ae}=e,{getGraphQLLoader:r}=(0,K.mv)(),{enqueueSnackbar:n}=(0,Y.d)(),a=r(),s=e.reason===Pe.JK.Concert?l.Ru.get("concerts.not_interested.undo.concert"):l.Ru.get("concerts.not_interested.undo.artist");return(0,E.jsx)(V.Zp,{label:s,placement:"top-end",children:(0,E.jsx)(ke.H,{onClick:async()=>{try{const r=await t(a,{artistUri:e.artistUri,concertUri:e.concertUri});if("UndoConcertNotInterested"!==r?.data?.undoConcertNotInterested.__typename)return n(l.Ru.get("concerts.not_interested.undo.error")),e.onSaveConcert();const s=e.reason===Pe.JK.Concert?l.Ru.get("concerts.not_interested.undo.concert.success"):l.Ru.get("concerts.not_interested.undo.artist.success");return n(s),e.onSaveConcert()}catch{return n(l.Ru.get("concerts.not_interested.undo.error")),e.onSaveConcert()}},"aria-label":s,iconOnly:()=>(0,E.jsx)(Me.X,{semanticColor:"essentialNegative"})})})},Oe=e=>e.isNotInterested?(0,E.jsx)(Fe,{...e}):(0,E.jsx)(Ue,{...e,onComplete:()=>{e.onOpenModal(),e.onSaveConcert()}});var Be=r(42870),qe=r(61514);const ze=new Te.l("concertNotInterested","mutation","cb8dad4fee170ab2266ecf5814914f7b4c8a142f264c26b3ca2722279b54d2d1",null),$e="OWjlH9F21hY4pR4gnXoh",He="P7pQy4QugIqBGSfxBPsX",Ve="UXjkNNrIN9whh5o971qQ",Ze="wsYdumsvVAIfcGUFcD9t";var Qe=function(e){return e[e.CONCERT=0]="CONCERT",e[e.ARTIST=1]="ARTIST",e}(Qe||{});const Ke=[{message:()=>l.Ru.get("concerts.not_interested.reason.location"),type:Qe.CONCERT,ubi:"location"},{message:()=>l.Ru.get("concerts.not_interested.reason.bought_tickets"),type:Qe.CONCERT,ubi:"going"},{message:()=>l.Ru.get("concerts.not_interested.reason.date"),type:Qe.CONCERT,ubi:"date"},{message:()=>l.Ru.get("concerts.not_interested.reason.artist"),type:Qe.ARTIST,ubi:"artist"},{message:()=>l.Ru.get("concerts.not_interested.reason.other"),type:Qe.CONCERT,ubi:"other"}],Ye={[Qe.ARTIST]:()=>l.Ru.get("concerts.not_interested.success.artist"),[Qe.CONCERT]:()=>l.Ru.get("concerts.not_interested.success.concert")},Ge=(e,t)=>e(ze,t),We=e=>{const{onSetNotInterested:t=Ge}=e,[r,n]=(0,f.useState)(!1),{enqueueSnackbar:a}=(0,Y.d)(),{getGraphQLLoader:i}=(0,K.mv)(),o=(0,k.s)(),c=(0,f.useMemo)((()=>e.spec?.notInterestedModalFactory()),[e.spec]),d=i(),u=async(r,s)=>{n(!1),c&&o.logInteraction(c?.notInterestedReasonFactory({reason:s,uri:e.concertUri}).hitRemoveInterest());try{const s=await t(d,((e,{artistUri:t,concertUri:r})=>{switch(e){case Qe.ARTIST:return{artistUri:t,concertUri:null};case Qe.CONCERT:default:return{artistUri:null,concertUri:r}}})(r,e));return"SetConcertNotInterested"!==s?.data?.setConcertNotInterested.__typename?n(!0):(a(Ye[r]()),e.onClose())}catch{return n(!0)}};return(0,E.jsx)(qe.A,{contentLabel:l.Ru.get("concerts.not_interested.title"),isOpen:!0,className:$e,onRequestClose:e.onClose,children:(0,E.jsxs)("section",{className:He,children:[(0,E.jsx)(s.E,{variant:"titleSmall",semanticColor:"textBase",children:l.Ru.get("concerts.not_interested.title")}),r&&(0,E.jsx)(Be.l,{colorSet:"negative",children:l.Ru.get("concerts.not_interested.error")}),(0,E.jsx)("div",{className:Ve,children:Ke.map(((e,t)=>(0,E.jsx)("button",{className:Ze,onClick:()=>u(e.type,e.ubi),children:e.message()},t)))})]})})};var Xe=r(555),Je=r(58885);var et=r(87150),tt=r(27508),rt=r(81751);const nt="m8nwW8kkQCgKh2Wo82Qw",at="xiSw7Lh5ojpJOB4JogfW",st="HGzguF7WF1y4htrRTgR9",it="SsVIWIPjeIKd9XuPqFzA",ot=e=>(0,E.jsx)(qe.A,{contentLabel:l.Ru.get("concerts.no_codes_title"),isOpen:!0,className:nt,onRequestClose:e.onClose,children:(0,E.jsxs)("section",{className:st,children:[(0,E.jsx)("div",{className:at,children:(0,E.jsx)(ct,{"aria-label":l.Ru.get("close"),iconOnly:tt.M,size:"small",onClick:e.onClose})}),(0,E.jsxs)("div",{className:it,children:[(0,E.jsx)(s.E,{variant:"titleSmall",semanticColor:"textBase",children:l.Ru.get("concerts.no_codes_title")}),(0,E.jsx)("div",{children:(0,E.jsx)(s.E,{children:l.Ru.get("concert.presale.no_codes")})}),(0,E.jsx)("div",{children:(0,E.jsx)(Xe.$,{href:e.url,target:"_blank",iconTrailing:rt.H,onClick:()=>{window.open(e.url)},children:l.Ru.get("concerts.event.view")})})]})]})});var ct=(0,et.Ay)(ke.H).withConfig({displayName:"PresaleNoCodesModal___StyledButtonTertiary",componentId:"sc-1yajat8-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const lt=new Te.l("requestPromoCode","mutation","e90e712768b6041ed97f49184289f5fe0d8841134dd715f1f79c704994cd0ac7",null),dt=(e,t)=>e&&e(lt,{accessCode:t}),ut=e=>{const[t,r]=(0,f.useState)(!1),[n,a]=(0,f.useState)(!1),{requestPromoCode:s=dt}=e,{getGraphQLLoader:i}=(0,K.mv)(),o=i(),c=(0,k.s)(),d=(0,f.useMemo)((()=>e.spec?.ticketRestrictedAccessCodeButtonFactory({uri:e.concertUri})),[e.spec,e.concertUri]),u=e.hasPromoCodes?l.Ru.get("concerts.claim_code"):l.Ru.get("concerts.event.view");return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Xe.$,{className:je,size:"small",onClick:async()=>{r(!0),d&&c.logInteraction(d?.hitUiReveal());try{const i=await s(o,e.accessCode);n=i?.data?.requestEventOfferPromoCode,void 0!==n&&"code"in n&&e.onComplete(i.data.requestEventOfferPromoCode.code),t=i?.data?.requestEventOfferPromoCode,void 0!==t&&"message"in t&&a(!0),r(!1)}catch{a(!0),r(!1)}var t,n},children:t?(0,E.jsx)(Je.U,{}):u}),n&&(0,E.jsx)(ot,{onClose:()=>a(!1),url:e.url})]})};var mt=r(69249),ht=r(60841),gt=r(99155),pt=r(84971);const xt=(0,f.lazy)((()=>r.e(504).then(r.bind(r,70504)))),jt=(0,f.memo)((e=>{const t=(0,ht.V)(),[r,n]=(0,f.useState)(""),{concertUri:a,offer:i,position:o,spec:c,concertSpec:d,isCancelled:u=!1}=e,m=i.currency?new Intl.NumberFormat(l.Ru.getLocaleForFormatting(),{style:"currency",currency:i.currency}):void 0,h=i.availability===Pe.sg.SoldOut,g="Spotify"===i.providerName,p=i.url,x=(0,k.s)(),j=(0,f.useMemo)((()=>c.ticketProviderCellFactory({identifier:i.providerName,position:o,uri:i.url})),[c,i.providerName,o,i.url]),v=(0,G.t)(j),y=(0,f.useMemo)((()=>{if(u)return(0,E.jsx)(s.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Ce,children:l.Ru.get("concerts.cancelled")});if(h)return(0,E.jsx)(s.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Ce,children:l.Ru.get("concerts.soldout")});if(i.availability===Pe.sg.FewLeft)return(0,E.jsx)(s.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ye,children:l.Ru.get("concerts.few_left")});if(i.urlType===Pe.I2.EventPage)return null;const e={"on-sale":l.Ru.get("concerts.on_sale"),presale:l.Ru.get("concerts.presale")};return(0,E.jsxs)(E.Fragment,{children:[e[i.saleType]&&(0,E.jsx)(s.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ye,children:e[i.saleType]}),g&&i.minPrice&&(0,E.jsx)(s.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ve,children:l.Ru.get("concerts.ticket_price",i.minPrice)})]})}),[u,h,i.availability,i.urlType,i.saleType,i.minPrice,g]),C=(0,f.useMemo)((()=>i.urlType===Pe.I2.EventPage||h||u||"presale"===i.saleType&&(0,mt.m7)(i.dates.endDateIsoString)||"presale"===i.saleType&&t?(0,E.jsx)(Xe.$,{className:je,iconTrailing:gt.p,size:"small",children:l.Ru.get("concerts.event.view")}):"presale"===i.saleType&&i.accessCode?(0,E.jsx)(ut,{onComplete:e=>n(e),accessCode:i.accessCode,url:i.url,hasPromoCodes:i.hasPromoCodes,concertUri:a,spec:c}):(0,E.jsx)(Xe.$,{className:je,iconTrailing:gt.p,size:"small",children:g?l.Ru.get("concert_buy_tickets"):l.Ru.get("concert_find_tickets")})),[a,t,u,g,h,i.accessCode,i.dates.endDateIsoString,i.hasPromoCodes,i.saleType,i.url,i.urlType,c]),b=Number(i.minPrice);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("a",{href:p,className:ie,target:"_blank",ref:v,onClick:e=>{"presale"===i.saleType&&!(0,mt.m7)(i.dates.endDateIsoString)||"presale"===i.saleType&&!t?e.preventDefault():(()=>{const e=j.hitNavigateToExternalUri({destination:i.url});e&&x.logInteraction(e)})()},children:[(0,E.jsx)("div",{className:oe,children:(0,E.jsx)(pt._,{loading:"eager",src:i.providerImageUrl,height:"100%",width:"100%",className:ce,children:(0,E.jsx)(N.T,{className:le,size:"medium"})})}),(0,E.jsxs)("div",{className:de,children:[(0,E.jsxs)("div",{dir:"auto",className:fe,children:[y,!!b&&(0,E.jsx)(s.E,{as:"p",semanticColor:"textPositive",variant:"bodySmallBold",children:l.Ru.get("concerts.offer.price",m?.format(b))}),(0,E.jsx)(s.E,{as:"p",semanticColor:"textSubdued",children:i.providerName})]}),C]})]}),r&&(0,E.jsx)(xt,{url:p,dates:{start:i.dates.startDateIsoString,end:i.dates.endDateIsoString},code:r,onClose:()=>n(""),spec:d})]})})),vt=(0,f.memo)((e=>{const{concertUri:t,offers:r,entitySpec:n,isCancelled:a}=e,i=(0,f.useMemo)((()=>n.ticketProviderListFactory()),[n]),o=(0,G.t)(i),c=!r.find((e=>e.urlType===Pe.I2.TicketPage)),d=!r.find((e=>e.availability!==Pe.sg.SoldOut)),u=!c&&!d&&!a;return(0,E.jsxs)(E.Fragment,{children:[u&&(0,E.jsx)(s.E,{as:"h2",variant:"titleSmall",children:l.Ru.get("concert.header.tickets_available_on")}),(0,E.jsx)("div",{ref:o,className:se,children:r.map(((e,r)=>(0,E.jsx)(jt,{concertUri:t,offer:e,position:r,onRemindMe:()=>{},spec:i,concertSpec:n,isCancelled:a},e.url)))})]})}));var yt=r(90630);const ft=e=>{const{locationName:t,latitude:r,longitude:n,onClick:a}=e,i=new URL("https://maps.google.com/");return i.searchParams.set("q",t),r&&n&&i.searchParams.set("ll",`${r},${n}`),(0,E.jsx)("a",{href:i.href,target:"_blank",onClick:()=>a?.(i.href),children:(0,E.jsx)(s.E,{as:"h2",variant:"titleSmall",children:t})})},Ct=(0,f.memo)((e=>{if((0,i.NC)(yt.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){const t=e.venue.data.uri;return(0,E.jsx)(I.N,{to:t,onClick:()=>e.onClick?.(t),children:(0,E.jsx)(s.E,{as:"h2",variant:"titleSmall",children:e.locationName})})}var t;return(0,E.jsx)(ft,{...e})})),bt="notInterested",Nt=(0,f.memo)((e=>{const{concert:t,entitySpec:r}=e,[n]=(0,A.ok)(),o=(0,a.Zp)(),c=(0,i.NC)(yt.Lbd),d=!!n.get(bt),u=(0,k.s)(),m=(0,ht.V)(),h=(0,mt.l4)(t.startDateIsoString),g=e.concert.status===Pe.TA.Cancelled;if((0,mt.m7)(t.startDateIsoString))return(0,E.jsxs)("div",{className:ae,children:[(0,E.jsx)(s.E,{as:"h2",variant:"titleSmall",children:l.Ru.get("concert_event_ended")}),(0,E.jsx)(s.E,{variant:"bodyMedium",children:(0,E.jsx)(I.N,{to:"spotify:concerts",children:l.Ru.get("concert_past_message")})})]});const p=()=>{n.set(bt,"1"),o(`?${n.toString()}`,{replace:!0})},[x]=t.artists.items,j=!!t.notInterested;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:ae,children:[(0,E.jsx)(Ct,{venue:t.venue,locationName:(0,S.im)(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude}),(0,E.jsx)(s.E,{as:"h2",variant:"bodySmall",className:ge,children:(0,E.jsx)("time",{dateTime:t.startDateIsoString,children:[(0,mt.Y)(h),(0,mt.WB)(h)].join(" • ")})}),(0,E.jsxs)("div",{className:W,children:[!m&&(0,E.jsx)(Re,{concertUri:t.uri,entitySpec:r,saved:t.saved,onSaveConcert:e.onSaveConcert}),c&&!m&&(0,E.jsx)(Oe,{spec:r,isNotInterested:!!t.notInterested,concertUri:t.uri,artistUri:x._uri,reason:t.notInterested?.reason??void 0,onSaveConcert:e.onSaveConcert,onOpenModal:()=>p()}),(0,E.jsx)(O.w,{uri:t.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=r.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&u.logInteraction(e)},ariaLabel:l.Ru.get("concerts_share_with_friends")}),(0,E.jsx)(B.b,{menu:(0,E.jsx)(q.u,{uri:t.uri,onClickNotInterested:c&&!j?()=>p():void 0}),onShow:()=>{const e=r.contextMenuButtonFactory().hitUiReveal();e&&u.logInteraction(e)},children:(0,E.jsx)(F.e,{size:"large"})})]}),(0,E.jsx)(vt,{concertUri:t.uri,offers:t.offers.items,entitySpec:r,isCancelled:g})]}),c&&d&&(0,E.jsx)(We,{spec:r,artistUri:x._uri,concertUri:t.uri,onClose:()=>{n.delete(bt),o(`?${n.toString()}`,{replace:!0}),e.onSaveConcert()}})]})})),_t="QQPv9DSFY0v1R2J2GFAt",It=()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(s.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:_t,children:l.Ru.get("events_page.disclaimer")}),(0,E.jsx)(s.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",children:l.Ru.get("events_page.timezone_hint")})]});var St=r(54916),Rt=r(74918),kt=r(2169),wt=r(34407);const Tt="Dry_NQGsDIHDZtrVXCkm",Dt="afT9IeZ3a3xSlKP0pSJH",Lt="cBs7zoipfqjsCHbDjY_p",Ut="wDz6TsRKNxwV4mlO1EMX",Mt="B7ChxzxV0z17kJj9aZSD",Et=(0,f.memo)((e=>{const{imageUri:t,name:r,uri:n,onClick:a}=e,i=(0,E.jsxs)(I.N,{to:n,className:Dt,onClick:a,children:[t?(0,E.jsx)(wt.b,{children:(0,E.jsx)("div",{"data-testid":"image-container",className:Mt,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,E.jsx)("div",{className:Lt,children:(0,E.jsx)(s.E,{as:"h3",variant:"titleMedium",className:Ut,children:r})})]});return(0,E.jsx)("div",{className:Tt,children:i})})),Pt=Et;var At=r(87732);const Ft=e=>!!e&&Object.keys(e).includes("uri"),Ot=({artist:e,spec:t,userLocation:r})=>{const{concertId:n}=(0,a.g)(),s=(0,k.s)(),i=e.localConcerts.items.filter((e=>!!Ft(e.data)&&e.data.uri!==`spotify:concert:${n}`)).shift()?.data,o=Ft(i)?i:void 0,c=o&&(e=>{const t=l.Ru.formatDate((0,mt.l4)(e?.startDateIsoString),{day:"numeric",month:"short"});return e.location.city?`${t}, ${e.location.city}`:t})(o),d=r??o?.location.city,u=`${e.uri}:concerts`;return(0,E.jsxs)("div",{className:Ne,children:[o&&d&&(0,E.jsxs)("div",{className:_e,children:[(0,E.jsx)(At.Z,{children:l.Ru.get("concerts.next_concert_near_location_colon",d)}),(0,E.jsx)(I.N,{to:o.uri,onClick:()=>(e=>{const r=t.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e});s.logInteraction(r)})(o.uri),children:(0,E.jsx)(At.Z,{semanticColor:"textSubdued",children:c})})]}),(0,E.jsxs)("div",{className:_e,children:[(0,E.jsx)(At.Z,{children:l.Ru.get("concerts.on_tour_colon")}),(0,E.jsx)(I.N,{to:u,onClick:()=>{const e=t.artistEventsLinkFactory({uri:u}).hitUiNavigate({destination:u});s.logInteraction(e)},children:(0,E.jsx)(At.Z,{semanticColor:"textSubdued",children:l.Ru.get("concerts.view_all_upcoming_concerts_count",e.goods.concerts.totalCount)})})]})]})};var Bt=r(24395);const qt=(0,f.memo)((e=>{const{artist:t,position:r,lineupSpec:n}=e,a=(0,f.useMemo)((()=>n.artistRowFactory({position:r,uri:t.uri})),[n,r,t.uri]),s=(0,k.s)(),i=t.relatedContent.featuringV2.items.flatMap((e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),o=t.discography.popularReleasesAlbums.items,c=t.visuals.avatarImage?.sources?.[0],d=(0,E.jsx)(Pt,{uri:t.uri,name:t.profile.name,imageUri:c?.url,onClick:()=>{const e=a?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&s.logInteraction(e)}},t.uri),u=i.map(((e,t)=>{const r="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,E.jsx)(Rt.B,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:r},e.uri)})),m=o.map(((e,t)=>{const r=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,E.jsx)(St.a,{uri:e.uri,index:t,artists:r,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,E.jsxs)(Bt.pZ,{value:"headered-grid",index:r,children:[(0,E.jsx)(kt.$,{title:0===r?l.Ru.get("concert.lineup"):"",total:2+u.length+m.length,seeAllUri:t.uri,seeAllLabel:l.Ru.get("view.see-all"),onClickShelfSeeAll:()=>{const e=a?.seeDiscographyLinkFactory().hitUiNavigate({destination:t.uri});e&&s.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[d,null,...u,...m],className:be}),(0,E.jsx)(Ot,{artist:t,spec:a,userLocation:e.userLocation})]},t.uri)})),zt=(0,f.memo)((e=>{const{artists:t,entitySpec:r,userLocation:n}=e,a=(0,f.useMemo)((()=>r.lineupArtistsFactory()),[r]),s=(0,G.t)(a);return(0,E.jsx)("div",{ref:s,className:ue,children:t.flatMap(((e,t)=>{if("Artist"!==e.data.__typename)return[];const r=e.data;return[(0,E.jsx)(qt,{artist:r,position:t,lineupSpec:a,userLocation:n},r.uri)]}))})}));var $t=r(27100);const Ht="r4YSqQ00n2_0i2tWtlPj",Vt="yEpakiIFqVrPYCcY_UcX",Zt="TIxb8ebn0Jes35eTIcCQ",Qt=(0,f.memo)((e=>(0,E.jsxs)(I.N,{to:"spotify:concerts",className:Ht,onClick:e.onClick,children:[(0,E.jsx)(wt.b,{children:(0,E.jsx)("div",{className:Zt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,E.jsx)("div",{className:Vt,children:(0,E.jsx)(s.E,{as:"h3",variant:"titleSmall",children:l.Ru.get("concerts_browse_more")})})]}))),Kt=(0,f.memo)((e=>{const{concert:t,position:r,recommendedSpec:n}=e,a=(0,k.s)(),s=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),i=s.map((e=>e.profile.name)),o=(0,S.tI)(t.title,t.festival,i)?t.title:(0,S.Ac)(i),c=s[0]?.visuals.avatarImage?.sources[0];return(0,E.jsx)($t.A,{uri:t.uri,title:o,date:t.startDateIsoString,subTitle:(0,S.im)(t.location),imageUrl:c?.url,firstParty:t.firstParty,onClick:()=>{const e=n?.concertCardFactory({position:r,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&a.logInteraction(e)}})})),Yt=(0,f.memo)((e=>{const{relatedConcerts:t,entitySpec:r}=e,n=(0,f.useMemo)((()=>r.recommendedConcertsFactory()),[r]),a=(0,k.s)(),s=(0,G.t)(n),i=t.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===i.length)return null;return(0,E.jsx)("div",{ref:s,className:he,"data-testid":"concert-recommendations",children:(0,E.jsx)(Bt.pZ,{value:"headered-grid",children:(0,E.jsxs)(kt.$,{title:l.Ru.get("concert.similar_events"),total:t.totalCount,className:pe,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:l.Ru.get("view.see-all"),withEncoreCards:!1,children:[(0,E.jsx)(Qt,{onClick:()=>{const e=n?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&a.logInteraction(e)}},"browse"),i.map(((e,t)=>(0,E.jsx)(Kt,{position:t,concert:e,recommendedSpec:n},e.uri)))]})})})}));var Gt=r(49810);const Wt=new Te.l("concert","query","2261e7bf8bf74df87a7c05434053357bb55f5cfb594f407ccf99b8717de5e64f",null);var Xt=r(19469),Jt=r(98846),er=r(98962),tr=r(58053),rr=r(82362),nr=r(64640);const ar=e=>{const{concert:t,userLocation:r}=e,n=(0,i.NC)(nr.TQ),{spec:a}=(0,rr.r)(o.b,{data:{identifier:(0,c.o_h)(t.uri)?.id,uri:t.uri}}),l=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),v=l[0].visuals.headerImage;(0,Jt.z)(v?.extractedColors?.colorDark.hex);const f=l.map((e=>e.profile.name)),C=(0,S.tI)(t.title,t.festival,f)?t.title:(0,S.re)(f),b=(0,mt.l4)(t.startDateIsoString),N=t.concepts.items.filter(Xt.V5).sort(((e,t)=>e.weight-t.weight));return(0,E.jsxs)("section",{className:te,children:[(0,E.jsx)(u.Q,{children:(0,tr.K9)(t.title,t.location.city,t.location.name,b)}),(0,E.jsxs)(m.z,{backgroundImages:v?.sources,children:[(0,E.jsxs)(g.Y,{children:[(0,E.jsx)(h.Z,{children:(0,E.jsx)("div",{className:X,children:(0,E.jsx)(s.E,{as:"h1",variant:"titleSmall",className:J,children:(0,E.jsx)("time",{dateTime:t.startDateIsoString,children:(0,mt.Fn)(b)})})})}),(0,E.jsx)(j.mm,{className:re,children:C}),n&&(0,E.jsx)(h.Z,{children:(0,E.jsx)(y.I,{concepts:N,spec:a.concertConceptsFactory()})})]}),(0,E.jsx)(p.h,{children:(0,E.jsx)("div",{className:me,children:(0,E.jsx)(x.X,{text:C})})})]}),(0,E.jsxs)("div",{className:ee,children:[(0,E.jsx)(d.K,{backgroundColor:v?.extractedColors?.colorDark.hex}),(0,E.jsxs)("div",{className:ne,children:[(0,E.jsx)(Nt,{concert:t,entitySpec:a,onSaveConcert:e.onSaveConcert}),(0,E.jsx)(It,{}),(0,E.jsx)(zt,{artists:t.artists.items,entitySpec:a,userLocation:r}),(0,E.jsx)(P,{location:t.location,showTime:b,htmlDescription:t.htmlDescription,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,mt.l4)(t.doorsOpenTimeIsoString):null,spec:a}),(0,E.jsx)(Yt,{relatedConcerts:t.relatedConcerts,entitySpec:a})]})]})]})},sr=()=>{const{concertId:e}=(0,a.g)(),{isAnonymous:t}=(0,n.d4)(er.Ht),r=`spotify:concert:${e}`,{loading:s,error:i,data:o,invalidate:c}=(d={uri:r,authenticated:!t},(0,Gt.I)(Wt,d,u));var d,u;return s?(0,E.jsx)(v.LoadingPage,{hasError:!1,errorMessage:""}):i||"ConcertV2"!==o?.concert.__typename?(0,E.jsx)(v.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("concert.error.concert_not_found_title")}):(0,E.jsx)(ar,{concert:o.concert,onSaveConcert:c,userLocation:o.me?.profile?.location?.name??o.concert.location.city})}},69249:(e,t,r)=>{r.d(t,{Fn:()=>m,MW:()=>h,Py:()=>d,VJ:()=>u,Vi:()=>j,WB:()=>g,WZ:()=>p,Y:()=>o,dp:()=>c,l4:()=>i,m7:()=>x,tX:()=>y,tj:()=>l});var n=r(12058),a=r(93492),s=r(19469);const i=e=>new Date(e.substring(0,16)),o=e=>a.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>a.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),l=e=>a.Ru.formatDate(e,{month:"short"}),d=e=>a.Ru.formatDate(e,{day:"numeric"}),u=e=>a.Ru.formatDate(e,{weekday:"short"}),m=e=>a.Ru.formatDate(e,{month:"short",day:"numeric"}),h=e=>a.Ru.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"}),g=e=>a.Ru.formatDate(e,{hour:"numeric",minute:"numeric"}),p=(e,t)=>{if(e.toDateString()===t.toDateString())return o(e);if(e.getMonth()===t.getMonth()){return`${a.Ru.formatDate(e,{day:"numeric",month:"short"})}–${a.Ru.formatDate(t,{day:"numeric"})}`}return`${a.Ru.formatDate(e,{day:"numeric",month:"short"})}–${a.Ru.formatDate(t,{day:"numeric",month:"short"})}`},x=e=>{if(!e)return!1;const t=new Date(e);return new Date>t},j=e=>{const[t]=e,r=e[e.length-1];return(0,s.$V)(t)&&(0,s.$V)(r)?{startDate:i(t.data.startDateIsoString),endDate:i(r.data.startDateIsoString)}:{startDate:new Date,endDate:new Date}},v={month:"short",day:"numeric"},y=e=>{if((0,n.r)(e.from,e.to))return a.Ru.formatDate(e.from,v);return`${a.Ru.formatDate(e.from,v).replace(/ /g," ")} - ${a.Ru.formatDate(e.to,v).replace(/ /g," ")}`}},17381:(e,t,r)=>{r.d(t,{Ac:()=>s,a9:()=>i,i3:()=>l,im:()=>c,re:()=>o,tI:()=>a});var n=r(93492);const a=(e,t,r)=>!!e&&(t||!r.length),s=e=>1===e.length?n.Ru.get("concert.header.upcoming_concert_title_1",...e):2===e.length?n.Ru.get("concert.header.upcoming_concert_title_2",...e):3===e.length?n.Ru.get("concert.header.upcoming_concert_title_3",...e):4===e.length?n.Ru.get("concert.header.upcoming_concert_title_4",...e):e.length>4?n.Ru.get("concert.header.upcoming_concert_title_more",...e):"",i=e=>{const t=(e=>e.artists.map((e=>e.name)))(e);return a(e.title,e.festival,t)?e.title:s(t)},o=e=>1===e.length?n.Ru.get("concert.header.entity_title_1",...e):2===e.length?n.Ru.get("concert.header.entity_title_2",...e):3===e.length?n.Ru.get("concert.header.entity_title_3",...e):4===e.length?n.Ru.get("concert.header.entity_title_4",...e):e.length>4?n.Ru.get("concert.header.entity_title_more",...e):"",c=({name:e,city:t,region:r,country:a})=>[e,t,r,a].filter((e=>!!e&&"unknown"!==e.toLowerCase())).join(n.Ru.getSeparator()),l=e=>{if(!e.artists||0===e.artists.items.length)return e.title;if(e.festival)return e.title;const t=e.artists.items.map((e=>e.profile.name));return o(t)}},61697:(e,t,r)=>{r.d(t,{DL:()=>o,Qe:()=>c,bU:()=>d,he:()=>l,nm:()=>i});var n=r(42534);const a=(e,t)=>{if(!e.includes(t))return;const r=e.split("/"),n=r.findIndex((e=>e===t));return r[n+1]},s=(e,t)=>{const r=["/concerts"];return(t.location||e.includes("location")&&null!==t.location)&&(r.push("location"),r.push(String(t.location??a(e,"location")))),(t.genre||e.includes("genre")&&null!==t.genre)&&(r.push("genre"),r.push(String(t.genre??a(e,"genre")))),r.join("/")},i=(e,t,r)=>{if(!t)return s(e,{location:null});const n=r?.normalize().replaceAll(/\W+/g,"-");return s(e,n?{location:`${t}-${n}`}:{location:t})},o=(e,t,r)=>{if(!t)return s(e,{genre:null});const n=r?.normalize().replaceAll(/\W+/g,"-");return s(e,n?{genre:`${t}-${n}`}:{genre:t})},c=e=>{if(!e)return;const t=e.split("-"),[r]=t;return{id:`spotify:concept:${r}`,name:t.reduce(((e,t,r)=>0===r?e:`${e} ${t}`),"").trim()}},l=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),d=e=>(0,n.x)(e,{representation:"date"})},26923:(e,t,r)=>{r.d(t,{J:()=>d});var n=r(62411),a=r(3118),s=r(72574),i=r(48975),o=r(90630),c=r(98962),l=r(67759);const d=e=>{const[t]=(0,l.A)(e),r=(0,i.n)(),d=(0,n.d4)(c.F6),u=(0,a.NC)(o.U4t),m=!r&&t,h=(0,s.o_h)(e);return h?.type===s.NQG.ALBUM?{playUri:m&&!u?(0,s.Uu7)(d,(0,s.o_h)(e)?.id).toURI():e,playOptions:m?{useListPlatformPlay:u}:{}}:{playUri:e,playOptions:{}}}},89232:(e,t,r)=>{r.d(t,{s:()=>n});const n=e=>"spotify:artist:0LyfQWJT6nXafLPZqxe9Of"!==e.uri},98846:(e,t,r)=>{r.d(t,{f:()=>o,z:()=>i});var n=r(30758),a=r(668),s=r(7180);function i(e,t=a.l0o){const r=(0,s.as)();return(0,n.useEffect)((()=>(e&&r((0,s.Mo)(e)),()=>{r((0,s.Hf)())})),[e,r]),e||t}const o=({color:e,fallbackColor:t})=>(i(e,t),null)},58053:(e,t,r)=>{r.d(t,{K9:()=>s,gq:()=>i,zV:()=>o});const n=(e,t)=>t.formatDate(e,{year:"numeric",month:"numeric",day:"numeric"}),a=(e,t)=>t.formatDate(e,{hour:"numeric",minute:"numeric"}),s=(e,t,r,s,i)=>{if(!e||!i)return"";if(e&&t&&r&&s){const o=n(s,i),c=a(s,i);return i.get("concert.entity_metadata.title_with_date_and_time",e,t,r,o,c)}return i.get("concert.entity_metadata.title",e,t,r)},i=e=>{if(!e)return"";return`${e} Tickets - ${(new Date).getFullYear()} Concert Tour Dates | Spotify`},o=e=>`Concert Tickets & Tour Dates for you${e?` in ${e}`:""} | Spotify`},69322:(e,t,r)=>{r.d(t,{A:()=>n});const n={Heading:"playlist-playlist-heading",HTMLDescription:"playlist-playlist-playlistDescription",List:"playlist-playlist-list",ListItem:"playlist-playlist-listItem",Paragraph:"playlist-playlist-paragraph"}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map