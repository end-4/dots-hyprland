"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9480],{42297:(e,a,t)=>{t.d(a,{E:()=>d});var i=t(97500),r=t.n(i),s=t(44451),n=t(80435),o=t(83302),l=t(86070);const d=({backgroundColor:e,children:a,style:t,className:i})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.K,{backgroundColor:e}),(0,l.jsx)(n.a,{children:(0,l.jsx)("div",{className:r()(o.A.ActionBar,"contentSpacing",i),style:t,"data-testid":"action-bar",children:a})})]})},85277:(e,a,t)=>{t.d(a,{S:()=>s});var i=t(83302),r=t(86070);const s=({testId:e,children:a})=>(0,r.jsx)("div",{className:i.A.ActionBarRow,"data-testid":e??"action-bar-row",children:a})},60308:(e,a,t)=>{t.d(a,{a:()=>g});var i=t(26411),r=t(93492),s=t(92907),n=t(30848),o=t(97194),l=t(47300),d=t(4608),u=t(12367),c=t(96691),m=t(86070);const g=e=>{const{name:a,uri:t,images:g,isHero:h,onClick:p,testId:f,index:x,requestId:v,color:b,variant:j,logCardImpressions:y=!1}=e;let k;return k=h?(0,m.jsx)(l.A,{index:x,onClick:p,headerText:a,featureIdentifier:"artist",uri:t,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:h,isCircular:!0,images:g,color:b,FallbackComponent:e=>(0,m.jsx)(i.r,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,m.jsx)(o.c,{isHero:!0,children:(0,m.jsx)(d.t,{children:r.Ru.get("card.tag.artist")})}),testId:f,requestId:v,logCardImpressions:y}):(0,m.jsx)(s.Z,{variant:j,index:x,onClick:p,headerText:a,featureIdentifier:"artist",uri:t,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:h,isCircular:!0,images:g,color:b,FallbackComponent:e=>(0,m.jsx)(i.r,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,m.jsx)(o.c,{children:(0,m.jsx)("span",{children:r.Ru.get("card.tag.artist")})}),testId:f,requestId:v,logCardImpressions:y}),(0,m.jsx)(u.h,{menu:(0,m.jsx)(c.t,{uri:t}),children:k})}},74918:(e,a,t)=>{t.d(a,{B:()=>y});var i=t(30758),r=t(1648),s=t(13505),n=t(93492),o=t(92907),l=t(30848),d=t(97194),u=t(47300),c=t(4608),m=t(12367),g=t(26630),h=t(34855),p=t(5119),f=t(46970),x=t(59829),v=t(70777),b=t(86070);const j=(e,a)=>(t,i)=>{i&&e.logInteraction(a.cardLinkFactory({position:0}).hitUiNavigate({destination:i}))},y=({name:e,uri:a,images:t,description:y,authorName:k,authorUri:I,isHero:C=!1,onClick:w=()=>{},testId:R,index:N,requestId:A,color:_,isPlayable:P,variant:S,logCardImpressions:T=!1,leaveTitleVisible:E})=>{let O,U=(0,b.jsx)(g.W,{uri:a}),L=P,M=!1;const B=I||"",D=(0,i.useCallback)((()=>{w?.(B)}),[w,B]);(0,x.c0)(a)&&(L=!0,U=(0,b.jsx)(f.gb,{}),M=!0);const F=E||!("spotify:user:spotify"===I);return O=C?(0,b.jsx)(u.A,{index:N,onClick:w,headerText:e,featureIdentifier:"playlist",uri:a,isDownloadable:!0,playInsteadOfNavigating:M,renderCardImage:()=>(0,b.jsx)(l.M,{isHero:!0,images:t,color:_,FallbackComponent:e=>(0,b.jsx)(r.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,a)=>(0,b.jsxs)(d.c,{isHero:!0,children:[(0,b.jsx)(c.t,{children:n.Ru.get("card.tag.playlist")}),y?(0,b.jsx)(v.N,{source:y,LinkComponent:p.N,onLinkClick:j(e,a)}):k&&I&&(0,b.jsx)(m.h,{menu:(0,b.jsx)(h.B,{uri:B}),children:(0,b.jsx)(s.E,{variant:"bodySmall",children:(0,b.jsx)(p.N,{to:B,onClick:D,children:k})})})]}),testId:R,requestId:A,isPlayable:L,logCardImpressions:T}):(0,b.jsx)(o.Z,{variant:S,index:N,onClick:w,headerText:e,featureIdentifier:"playlist",uri:a,isDownloadable:!0,playInsteadOfNavigating:M,renderCardImage:()=>(0,b.jsx)(l.M,{images:t,color:_,FallbackComponent:e=>(0,b.jsx)(r.e,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,a)=>(0,b.jsx)(d.c,{children:y?(0,b.jsx)(v.N,{source:y,LinkComponent:p.N,onLinkClick:j(e,a)}):k&&(0,b.jsx)("span",{children:n.Ru.get("search.playlist-by",k)})}),testId:R,requestId:A,isPlayable:L,logCardImpressions:T,showTitle:F}),(0,b.jsx)(m.h,{menu:U,children:O})}},17136:(e,a,t)=>{t.d(a,{a:()=>h});var i=t(30758),r=t(26411),s=t(93492),n=t(92907),o=t(30848),l=t(97194),d=t(47300),u=t(4608),c=t(12367),m=t(34855),g=t(86070);const h=i.memo((function({images:e,name:a,uri:t,onClick:h,isHero:p,testId:f,index:x,requestId:v,color:b,variant:j,logCardImpressions:y=!1}){let k;const I=(0,i.useCallback)((()=>(0,g.jsx)(o.M,{isCircular:!0,isHero:p,images:e,color:b,FallbackComponent:e=>(0,g.jsx)(r.r,{size:"xxlarge",...e})})),[b,e,p]),C=(0,i.useCallback)((()=>(0,g.jsx)(l.c,{isHero:p,children:p?(0,g.jsx)(u.t,{children:s.Ru.get("card.tag.profile")}):s.Ru.get("card.tag.profile")})),[p]);return k=p?(0,g.jsx)(d.A,{index:x,onClick:h,headerText:a,featureIdentifier:"profile",uri:t,isPlayable:!1,renderCardImage:I,renderSubHeaderContent:C,testId:f,requestId:v,logCardImpressions:y}):(0,g.jsx)(n.Z,{variant:j,index:x,onClick:h,headerText:a,featureIdentifier:"profile",uri:t,isPlayable:!1,renderCardImage:I,renderSubHeaderContent:C,testId:f,requestId:v,logCardImpressions:y}),(0,g.jsx)(c.h,{menu:(0,g.jsx)(m.B,{uri:t}),children:k})}))},68375:(e,a,t)=>{t.d(a,{M:()=>c});var i=t(64094),r=t(42001),s=t(64212),n=t(62067),o=t(14306);const l="profile-editImage-imageContainer",d="profile-editImage-editImageButtonContainer";var u=t(86070);const c=function({onClick:e,name:a,images:t,canEdit:c,placeholderType:m,shape:g=r.u.SQUARE,dragUri:h=""}){const[p,f]=(0,n.P)(t),x=(0,o.b)(p,f)===o.g.loaded,{draggable:v,onDragStart:b}=(0,s.P)({itemUris:[h],dragLabelText:a});return(0,u.jsxs)("div",{className:l,"data-testid":`${m}-image`,draggable:v&&!!h,onDragStart:b,children:[(0,u.jsx)(r.b,{loading:"eager",name:a,images:t,placeholderType:m,shape:g}),c&&(0,u.jsx)("div",{className:d,children:(0,u.jsx)(i.a,{overlay:x,onClick:e,rounded:g===r.u.CIRCLE})})]})}},64094:(e,a,t)=>{t.d(a,{a:()=>p});var i=t(97500),r=t.n(i),s=t(33650),n=t(13505),o=t(93492);const l="main-editImage-buttonContainer",d="main-editImageButton-image",u="main-editImageButton-overlay",c="main-editImageButton-rounded",m="main-editImageButton-icon",g="main-editImageButton-copy";var h=t(86070);const p=function({overlay:e=!1,rounded:a=!1,onClick:t}){return(0,h.jsx)("div",{className:l,children:(0,h.jsx)("button",{"data-testid":"edit-image-button",className:r()(d,{[c]:a,[u]:e}),"aria-haspopup":"true",onClick:t,type:"button",children:(0,h.jsxs)("div",{className:r()(m,"icon"),children:[(0,h.jsx)(s.G,{size:"xlarge","aria-hidden":"true"}),(0,h.jsx)(n.E,{variant:"bodyMedium",className:g,children:o.Ru.get("choose_photo")})]})})})}},12115:(e,a,t)=>{t.d(a,{X:()=>o});var i=t(97500),r=t.n(i),s=t(88520),n=t(86070);const o=({children:e})=>(0,n.jsx)("div",{className:r()(s.A.imageContainer,s.A.imageContainerNew),children:e})},42001:(e,a,t)=>{t.d(a,{b:()=>h,u:()=>g});var i=t(30758),r=t(97500),s=t.n(r),n=t(58487),o=t(88520),l=t(86070);const d=({type:e,className:a})=>(0,l.jsx)("div",{className:s()(o.A.image,o.A.imagePlaceholder,a),children:(0,l.jsx)(n.s,{type:e})});var u=t(64212),c=t(62067),m=t(84971);let g=function(e){return e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e}({});const h=i.memo(i.forwardRef((function({name:e,images:a,placeholderType:t,renderImage:i,className:r,shape:n=g.SQUARE,loading:h="lazy",dragUri:p,onContextMenu:f},x){const[v,b,j]=(0,c.P)(a),{draggable:y,onDragStart:k}=(0,u.P)({itemUris:p?[p]:[],dragLabelText:e});return(0,l.jsx)("div",{ref:x,onContextMenu:f,className:s()(o.A.image,r),draggable:y&&!(!p||!e),onDragStart:k,children:i?(0,l.jsx)("div",{className:s()(o.A.image,o.A.shadow,{[o.A.roundedCorners]:n===g.ROUNDED_CORNERS,[o.A.circle]:n===g.CIRCLE}),children:i()}):(0,l.jsx)(m._,{loading:h,src:v,alt:e,className:s()(o.A.image,o.A.shadow,{[o.A.roundedCorners]:n===g.ROUNDED_CORNERS,[o.A.circle]:n===g.CIRCLE}),srcSet:b||void 0,sizes:j,children:(0,l.jsx)(d,{type:t,className:s()(o.A.image,o.A.shadow,{[o.A.roundedCorners]:n===g.ROUNDED_CORNERS,[o.A.circle]:n===g.CIRCLE})})})})})))},44746:(e,a,t)=>{t.d(a,{X:()=>o});var i=t(668),r=t(75657);const s={container:"blfR_YJUsKUvdgTejBSb"};var n=t(86070);function o({children:e}){const a=(0,r.w)({contrast:"higherContrast"});return(0,n.jsx)("div",{className:s.container,style:{"--text-subdued":i.WYM,...a},children:e})}},78120:(e,a,t)=>{t.d(a,{q:()=>l});var i=t(97500),r=t.n(i),s=t(13505);const n={text:"w1TBi3o5CTM7zW1EB3Bm"};var o=t(86070);function l({children:e,className:a,...t}){return(0,o.jsx)(s.E,{variant:"bodySmall",semanticColor:"textSubdued",...t,className:r()(n.text,a),children:e})}},5389:(e,a,t)=>{t.d(a,{J:()=>l});var i=t(97500),r=t.n(i),s=t(13505),n=t(48998),o=t(86070);function l(){return(0,o.jsx)(s.E,{"data-separator":!0,semanticColor:"textSubdued",variant:"bodySmall",className:r()(n.A.separator,n.A.bullet),children:"â€¢"})}},37299:(e,a,t)=>{t.d(a,{B:()=>n});var i=t(13505),r=t(88520),s=t(86070);const n=({children:e})=>(0,s.jsx)(i.E,{variant:"bodySmall",className:r.A.pretitle,children:e})},21017:(e,a,t)=>{t.d(a,{W:()=>o});var i=t(30758),r=t(21974),s=t(93492),n=t(86070);const o=(0,i.memo)((function({isFollowing:e,onClick:a,disabled:t=!1,buttonText:i,size:o="small",className:l}){const d=e?s.Ru.get("following"):s.Ru.get("follow");return(0,n.jsx)(r.n,{onClick:a,disabled:t,size:o,className:l,children:i||d})}))},58975:(e,a,t)=>{t.d(a,{M:()=>c});var i=t(97500),r=t.n(i),s=t(8462),n=t(13505);const o="artist-artistVerifiedBadge-wrapper",l="artist-artistVerifiedBadge-badge",d="artist-artistVerifiedBadge-fillColor";var u=t(86070);const c=({text:e,iconSize:a="medium",className:t})=>(0,u.jsxs)("span",{className:r()(o,t),children:[(0,u.jsx)("div",{className:`${l} ${d}`}),(0,u.jsx)(s.O,{semanticColor:"textAnnouncement",className:l,size:a}),e?(0,u.jsx)(n.E,{variant:"bodySmall",children:e}):null]})},89686:(e,a,t)=>{t.d(a,{u:()=>l,i:()=>o});var i=t(30758);const r="main-imagePicker-fileInput";var s=t(86070);const n={accept:"image/.jpg, image/.jpeg, image/.png"};let o=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const l=function({onChange:e,onError:a,isOpen:t=!1,minImageWidth:l=0,minImageHeight:d=0,maxImageWidth:u=1e4,maxImageHeight:c=1e4,maxFileSizeMB:m=1/0,...g}){const h=i.useRef(null),p={...n,...g};(0,i.useEffect)((()=>{h.current&&t&&h.current.click()}),[h,t]);const f=1048576*m;return(0,s.jsx)("input",{...p,type:"file","data-testid":"image-file-picker",ref:h,className:r,onChange:async function(t){const i=t.target,[r]=Array.from(i.files||[]),s=await async function(e){const a=await function(e){return new Promise(((a,t)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{a(i.result?.toString()??"")},i.onerror=e=>t(e)}))}(e),[t,i]=await function(e){return new Promise(((a,t)=>{const i=new Image;i.onload=()=>{const{width:e,height:t}=i;a([e,t])},i.src=e,i.onerror=e=>t(e)}))}(a);return{imageFile:e,imageDataUrl:a,imageWidth:t,imageHeight:i}}(r);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw o.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<l||e.imageHeight<d)throw o.IMAGE_TOO_SMALL;if(e.imageWidth>u||e.imageHeight>c)throw o.IMAGE_TOO_BIG;if(e.imageFile.size>f)throw o.FILE_TOO_BIG}(s),e(s)}catch(e){if("string"!=typeof e||!Object.values(o).includes(e))throw e;a(e)}}})}},33980:(e,a,t)=>{t.d(a,{z:()=>m});var i=t(97500),r=t.n(i),s=t(13505),n=t(41223);const o="pIZVZOfjnJGth1BcoA1E",l="ZBBTIITnUdwh05dCI0tm",d="sz8Nwj2lvhOZxDwYWRQr",u="jjPsW7vuG9xH9qhEGL3I";var c=t(86070);const m=({message:e,isErrorMessage:a=!1})=>e?(0,c.jsx)("div",{role:"alert",children:(0,c.jsx)("div",{className:r()(o,{[l]:a}),children:(0,c.jsxs)(s.E,{as:"p",variant:"marginal",className:d,children:[(0,c.jsx)(n.b,{size:"small",className:u,"aria-hidden":"true"}),e]})})}):null},35393:(e,a,t)=>{t.d(a,{p:()=>u});var i=t(2169),r=t(19549),s=t(15936),n=t(81994),o=t(42262),l=t(39876),d=t(86070);const u=({index:e,logShelfImpressions:a=!1,...t})=>{const{id:u,seeAllUri:c}=t,{onClickShelfTitle:m,onClickShelfSeeAll:g,spec:h}=(0,r.w)({seeAllUri:c,index:e,id:u}),p=(0,l.t)(h),f=(0,s.a)(c),x=(0,n.O)(c);return(0,d.jsx)(o.r,{spec:h,children:(0,d.jsx)(i.$,{...t,elementRef:a?p:void 0,onClickShelfTitle:()=>{m(),f({category:s.w.TitleClicks}),x({category:n.U.TitleClicks})},onClickShelfSeeAll:()=>{g(),f({category:s.w.ShowAll}),x({category:n.U.ShowAll})}})})}},19549:(e,a,t)=>{t.d(a,{w:()=>n});var i=t(30758),r=t(62187),s=t(82362);const n=({seeAllUri:e,index:a,id:t})=>{const{spec:n,logger:o}=(0,s.r)(r.f,{data:{identifier:t,position:a,uri:e??""}}),l=(0,i.useCallback)((()=>{const e=n.swipeUiReveal();o.logInteraction(e)}),[o,n]),d=(0,i.useCallback)((e=>{const a=n.shelfHeaderFactory().shelfCarouselControlsFactory(),t="next"===e?a.shelfCarouselControlsNextFactory():a.shelfCarouselControlsPreviousFactory();o.logInteraction(t.hitUiReveal())}),[o,n]);return{onClickShelfTitle:(0,i.useCallback)((()=>{const a=n.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});o.logInteraction(a)}),[o,e,n]),onClickShelfSeeAll:(0,i.useCallback)((()=>{const a=n.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});o.logInteraction(a)}),[o,e,n]),onSwipe:l,onClickCarouselControls:d,spec:n}}},34978:(e,a,t)=>{t.d(a,{g:()=>x});var i=t(30758),r=t(97500),s=t.n(r),n=t(13505),o=t(72574),l=t(12367),d=t(56463),u=t(39550),c=t(92197),m=t(5119),g=t(64212),h=t(99802),p=t(22810),f=t(86070);const x=({children:e,uri:a,name:t,nonInteractive:r=!1,creatorUri:x,spec:v})=>{let b=null;const{draggable:j,onDragStart:y}=(0,g.P)({itemUris:[a],dragLabelText:t}),k=(0,h.s)(),I=(0,i.useCallback)((()=>{v&&k.logInteraction(v.albumLinkFactory({uri:a}).hitUiNavigate({destination:a}))}),[k,v,a]);return r?(0,f.jsx)("span",{className:s()("standalone-ellipsis-one-line",p.A.text),children:e}):((0,o._Tv)(a)&&(b=(0,f.jsx)(d.h,{uri:a,artistUri:x})),(0,o.WB1)(a)&&(b=(0,f.jsx)(u.H,{uri:a})),(0,f.jsx)(l.h,{menu:b,children:(0,f.jsx)(n.E,{variant:"bodySmall",children:(0,f.jsx)(c.Zp,{label:t,showDelay:c.uF,children:(0,f.jsx)(m.N,{draggable:j,onDragStart:y,className:s()("standalone-ellipsis-one-line"),to:a,dir:"auto",onClick:I,children:e})})})}))}},30368:(e,a,t)=>{t.d(a,{l:()=>u});var i=t(30758),r=t(13505),s=t(93492),n=t(92197),o=t(32883),l=t(99802),d=t(86070);const u=({artists:e,spec:a,className:t})=>{const u=(0,l.s)(),c=(0,i.useCallback)(((e,t)=>{a&&u.logInteraction(a.artistLinkFactory({position:t??0,uri:e}).hitUiNavigate({destination:e}))}),[u,a]);if(!e||0===e.length)return null;const m=e.map((({name:e})=>e)).join(s.Ru.getSeparator());return(0,d.jsx)(n.Zp,{label:m,showDelay:n.uF,children:(0,d.jsx)(r.E,{as:"span",variant:"bodySmall",className:t,children:e.map((({uri:e,name:a},t)=>(0,d.jsxs)(i.Fragment,{children:[t>0&&s.Ru.getSeparator(),(0,d.jsx)(o.y,{name:a,uri:e,onClick:c,index:t,children:a},e)]},e)))})})}},76762:(e,a,t)=>{t.d(a,{P:()=>n});var i=t(13505),r=t(22810),s=t(86070);const n=({children:e})=>e?(0,s.jsx)(i.E,{variant:"bodyMedium",className:r.A.rowBadges,semanticColor:"textSubdued",children:e}):null},62355:(e,a,t)=>{t.d(a,{e:()=>m});var i=t(97500),r=t.n(i),s=t(32825),n=t(44397),o=t(17461),l=t(22810),d=t(86070);const u=({isVideo:e,isEpisode:a})=>{let t=s.v;return e?t=n.B:a&&(t=o.L),(0,d.jsx)("div",{className:r()(l.A.rowImage,l.A.rowImageFallback),style:{borderRadius:4},children:(0,d.jsx)(t,{size:"small"})})};var c=t(84971);const m=({src:e,isVideo:a=!1,isEpisode:t=!1})=>e?(0,d.jsx)(c._,{className:r()(l.A.rowImage,{[l.A.rowImageVideo]:a}),draggable:!1,src:e,loading:"eager",width:"40",height:"40",radius:4,children:(0,d.jsx)(u,{isVideo:a,isEpisode:t})}):(0,d.jsx)(u,{isVideo:a,isEpisode:t})},76422:(e,a,t)=>{t.d(a,{$:()=>h});var i=t(30758),r=t(97500),s=t.n(r),n=t(40638),o=t(78245),l=t(56116),d=t(1091),u=t(22232),c=t(99802),m=t(22810),g=t(86070);const h=i.forwardRef((function({className:e="",children:a,onClick:t,isPlaying:i,isActive:r,isLocked:h=!1,playAriaLabel:p,uri:f,spec:x,playingIndicator:v=(0,g.jsx)(d.J,{className:m.A.playingIcon,animated:!0})},b){const j=(0,l.W)(),y=(0,c.s)(),k=(0,n.YQ)((e=>{const{currentTarget:a,detail:s}=e;let n;if(e.stopPropagation(),s>0&&a&&a.blur(),j({intent:i?"pause":"play",type:"click"}),x&&!h){const e=x.playbackButtonFactory();let a;a=r&&i?e.hitPause({itemToBePaused:f}):r&&!i?e.hitResume({itemToBeResumed:f}):e.hitPlay({itemToBePlayed:f}),n=y.logInteraction(a)}else x&&y.logInteraction(x.playbackButtonFactory().hitShowPaywall({paywalledItem:f}));t(e,n)}),u.d,{leading:!0,trailing:!1});return(0,g.jsxs)("div",{className:s()(m.A.rowMarker,e),children:[i?v:a,(0,g.jsx)(o.x,{className:m.A.rowPlayPauseButton,iconClassName:m.A.rowPlayPauseIcon,onClick:k,isPlaying:i,isLocked:h,playAriaLabel:p,ref:b})]})}))},37502:(e,a,t)=>{t.d(a,{a:()=>n});var i=t(13505),r=t(22810),s=t(86070);const n=({children:e})=>e?"number"==typeof e?(0,s.jsx)(i.E,{variant:"bodyMedium",className:r.A.number,children:e}):(0,s.jsx)("span",{className:r.A.icon,children:e}):null},57836:(e,a,t)=>{t.d(a,{_:()=>n});var i=t(93492),r=t(11205),s=t(86070);const n=()=>(0,s.jsx)(r.F,{size:"small",title:i.Ru.get("download.available-offline"),semanticColor:"textBrightAccent"})},1091:(e,a,t)=>{t.d(a,{J:()=>d});var i=t(56266),r=t(63127),s=t(95573),n=t(86070);const o={animated:"images/equaliser-animated-green.gif",static:"images/equaliser-green.svg"},l={animated:"images/equaliser-animated-white.gif",static:"images/equaliser-white.svg"},d=({className:e,animated:a=!1,white:t=!1})=>{const d=(0,s.j)(),u=(0,r.j)(!d&&a),c=t?l:o;return(0,n.jsx)("img",{className:e,width:"14",height:"14",alt:"",src:(0,i.b)(u?c.animated:c.static)})}},54264:(e,a,t)=>{t.d(a,{p:()=>r});var i=t(30758);function r(){const[e,a]=(0,i.useState)(!1);return[e,(0,i.useCallback)((()=>{a(!0),setTimeout((()=>a(!1)),0)}),[a])]}},49157:(e,a,t)=>{t.d(a,{M:()=>i.M});var i=t(24122)},9510:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Gt});var i=t(30758),r=t(85387),s=t(27428),n=t(72574),o=t(13699),l=t(75635),d=t(93492),u=t(8030),c=t(2169),m=t(60308),g=t(17136),h=t(86070);const p=({entity:e,index:a})=>(0,n.ecE)(e.uri)?(0,h.jsx)(m.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]}):(0,h.jsx)(g.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]});var f=t(68055),x=t(43080);const v=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,x.Z)(f.SR,[a]),s=t?.profiles;return i?(0,h.jsx)(u.LoadingPage,{hasError:null!==r,errorMessage:d.Ru.get("error.not_found.title.page")}):(0,h.jsx)(c.$,{title:d.Ru.get("followers"),total:s?.length,showAll:!0,fullPage:!0,rowGap:l.lT,children:s?.map(((e,a)=>(0,h.jsx)(p,{index:a,entity:e},e.uri)))})};var b=t(45143);const j="WqHooc2Y_6VuGI84LxQj",y=e=>{const{uri:a}=e,{data:t,loading:r,error:s}=(0,x.Z)(f.mH,[a]),o=t?.profiles,l=(0,i.useMemo)((()=>o?.filter((e=>(0,n.ecE)(e.uri)))||[]),[o]),m=(0,i.useMemo)((()=>o?.filter((e=>(0,n.APS)(e.uri)))||[]),[o]),[g,v]=(0,i.useState)("all"),y=l.length&&m.length,k=(0,i.useMemo)((()=>{if(!y)return o;switch(g){case"artists":return l;case"users":return m;default:return o}}),[g,o,l,m,y]),I=(0,i.useCallback)((()=>y?(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)(b.v,{selected:"all"===g,onClick:()=>{v("all")},selectedColorSet:"invertedLight",children:d.Ru.get("web-player.user-page.following.filter-all")}),(0,h.jsx)(b.v,{selected:"artists"===g,onClick:()=>{v("artists")},selectedColorSet:"invertedLight",children:d.Ru.get("web-player.user-page.following.filter-artists")}),(0,h.jsx)(b.v,{selected:"users"===g,onClick:()=>{v("users")},selectedColorSet:"invertedLight",children:d.Ru.get("web-player.user-page.following.filter-friends")})]}):(0,h.jsx)(h.Fragment,{})),[g,y]);return r?(0,h.jsx)(u.LoadingPage,{hasError:null!==s,errorMessage:d.Ru.get("error.not_found.title.page")}):(0,h.jsx)(c.$,{title:d.Ru.get("following"),total:o?.length,showAll:!0,fullPage:!0,renderSubHeader:I,children:k?.map(((e,a)=>(0,h.jsx)(p,{index:a,entity:e},e.uri)))})};var k=t(98929),I=t(62411),C=t(42551),w=t(3118),R=t(53486),N=t(74918),A=t(12367),_=t(34855),P=t(64359),S=t(68375),T=t(94201),E=t(12115),O=t(4378),U=t(11951),L=t(49022),M=t(42001),B=t(37299),D=t(26101),F=t(58975),H=t(35393),G=t(97500),W=t.n(G),q=t(13505),z=t(27508),J=t(41149),Q=t(555),$=t(61514),V=t(89686),K=t(54264),Y=t(33980),Z=t(33650),X=t(62067),ee=t(14306);const ae="profile-userEditDetails-image",te="valcBm4lLe9qFBcg0sFY",ie="tAIzXn8C9KriGwGuBfWg",re="PsrXxenHUFXYM1ub1xWw",se="U_VWfeeLWnDPhUTxCmrQ",ne=function({onClickEdit:e,onClickRemove:a,name:t,images:i,canEdit:r}){const[s,n]=(0,X.P)(i),o=(0,ee.b)(s,n)===ee.g.loaded;return(0,h.jsxs)("div",{className:ae,children:[(0,h.jsx)(M.b,{loading:"eager",name:t,images:i,placeholderType:"user",shape:M.u.CIRCLE}),r&&(0,h.jsxs)("div",{className:W()(te,{[re]:o}),children:[(0,h.jsx)("button",{className:ie,"aria-haspopup":"true",onClick:e,type:"button",children:(0,h.jsx)(q.E,{variant:"bodyMedium",children:d.Ru.get("user.edit-details.choose-photo")})}),(0,h.jsx)("div",{className:W()(se,"icon"),children:(0,h.jsx)(Z.G,{size:"xlarge","aria-hidden":!0})}),(0,h.jsx)("button",{className:ie,onClick:a,type:"button",children:(0,h.jsx)(q.E,{variant:"bodyMedium",children:d.Ru.get("user.edit-details.remove-photo")})})]})]})};var oe=t(22795);const le={paths:""},de={encode(e,a=oe.Writer.create()){for(const t of e.paths)a.uint32(10).string(t);return a},decode(e,a){const t=e instanceof Uint8Array?new oe.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...le};for(r.paths=[];t.pos<i;){const e=t.uint32();if(e>>>3==1)r.paths.push(t.string());else t.skipType(7&e)}return r},fromJSON(e){const a={...le};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(String(t));return a},fromPartial(e){const a={...le};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(t);return a},toJSON(e){const a={};return e.paths?a.paths=e.paths.map((e=>e)):a.paths=[],a}};t(11195);var ue=t(13977),ce=t(84686).hp;const me={value:0},ge={value:!1},he={value:""};const pe={encode:(e,a=oe.Writer.create())=>(a.uint32(8).int32(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new oe.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...me};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.int32();else t.skipType(7&e)}return r},fromJSON(e){const a={...me};return void 0!==e.value&&null!==e.value?a.value=Number(e.value):a.value=0,a},fromPartial(e){const a={...me};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=0,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},fe={encode:(e,a=oe.Writer.create())=>(a.uint32(8).bool(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new oe.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ge};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.bool();else t.skipType(7&e)}return r},fromJSON(e){const a={...ge};return void 0!==e.value&&null!==e.value?a.value=Boolean(e.value):a.value=!1,a},fromPartial(e){const a={...ge};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=!1,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},xe={encode:(e,a=oe.Writer.create())=>(a.uint32(10).string(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new oe.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...he};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.string();else t.skipType(7&e)}return r},fromJSON(e){const a={...he};return void 0!==e.value&&null!==e.value?a.value=String(e.value):a.value="",a},fromPartial(e){const a={...he};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value="",a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}};oe.util.Long!==ue.A&&(oe.util.Long=ue.A,(0,oe.configure)());const ve=globalThis;ve.atob,ve.btoa;const be={maxWidth:0,maxHeight:0,url:""},je={},ye={},ke={encode:(e,a=oe.Writer.create())=>(a.uint32(8).int32(e.maxWidth),a.uint32(16).int32(e.maxHeight),a.uint32(26).string(e.url),a),decode(e,a){const t=e instanceof Uint8Array?new oe.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...be};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.maxWidth=t.int32();break;case 2:r.maxHeight=t.int32();break;case 3:r.url=t.string();break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...be};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=Number(e.maxWidth):a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=Number(e.maxHeight):a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=String(e.url):a.url="",a},fromPartial(e){const a={...be};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=e.maxWidth:a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=e.maxHeight:a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=e.url:a.url="",a},toJSON(e){const a={};return void 0!==e.maxWidth&&(a.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(a.maxHeight=e.maxHeight),void 0!==e.url&&(a.url=e.url),a}},Ie={encode(e,a=oe.Writer.create()){void 0!==e.username&&void 0!==e.username&&xe.encode({value:e.username},a.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&xe.encode({value:e.name},a.uint32(18).fork()).ldelim();for(const t of e.images)ke.encode(t,a.uint32(26).fork()).ldelim();return void 0!==e.verified&&void 0!==e.verified&&fe.encode({value:e.verified},a.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&fe.encode({value:e.editProfileDisabled},a.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&fe.encode({value:e.reportAbuseDisabled},a.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&fe.encode({value:e.abuseReportedName},a.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&fe.encode({value:e.abuseReportedImage},a.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&fe.encode({value:e.hasSpotifyName},a.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&fe.encode({value:e.hasSpotifyImage},a.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&pe.encode({value:e.color},a.uint32(90).fork()).ldelim(),a},decode(e,a){const t=e instanceof Uint8Array?new oe.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...je};for(r.images=[];t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.username=xe.decode(t,t.uint32()).value;break;case 2:r.name=xe.decode(t,t.uint32()).value;break;case 3:r.images.push(ke.decode(t,t.uint32()));break;case 4:r.verified=fe.decode(t,t.uint32()).value;break;case 5:r.editProfileDisabled=fe.decode(t,t.uint32()).value;break;case 6:r.reportAbuseDisabled=fe.decode(t,t.uint32()).value;break;case 7:r.abuseReportedName=fe.decode(t,t.uint32()).value;break;case 8:r.abuseReportedImage=fe.decode(t,t.uint32()).value;break;case 9:r.hasSpotifyName=fe.decode(t,t.uint32()).value;break;case 10:r.hasSpotifyImage=fe.decode(t,t.uint32()).value;break;case 11:r.color=pe.decode(t,t.uint32()).value;break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...je};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=String(e.username):a.username=void 0,void 0!==e.name&&null!==e.name?a.name=String(e.name):a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(ke.fromJSON(t));return void 0!==e.verified&&null!==e.verified?a.verified=Boolean(e.verified):a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=Boolean(e.editProfileDisabled):a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=Boolean(e.abuseReportedName):a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=Boolean(e.abuseReportedImage):a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=Boolean(e.hasSpotifyName):a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=Boolean(e.hasSpotifyImage):a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=Number(e.color):a.color=void 0,a},fromPartial(e){const a={...je};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=e.username:a.username=void 0,void 0!==e.name&&null!==e.name?a.name=e.name:a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(ke.fromPartial(t));return void 0!==e.verified&&null!==e.verified?a.verified=e.verified:a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=e.editProfileDisabled:a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=e.reportAbuseDisabled:a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=e.abuseReportedName:a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=e.abuseReportedImage:a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=e.hasSpotifyName:a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=e.hasSpotifyImage:a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=e.color:a.color=void 0,a},toJSON(e){const a={};return void 0!==e.username&&(a.username=e.username),void 0!==e.name&&(a.name=e.name),e.images?a.images=e.images.map((e=>e?ke.toJSON(e):void 0)):a.images=[],void 0!==e.verified&&(a.verified=e.verified),void 0!==e.editProfileDisabled&&(a.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(a.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(a.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(a.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(a.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(a.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(a.color=e.color),a}},Ce={encode:(e,a=oe.Writer.create())=>(void 0!==e.mask&&void 0!==e.mask&&de.encode(e.mask,a.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&Ie.encode(e.userProfile,a.uint32(18).fork()).ldelim(),a),decode(e,a){const t=e instanceof Uint8Array?new oe.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ye};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.mask=de.decode(t,t.uint32());break;case 2:r.userProfile=Ie.decode(t,t.uint32());break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...ye};return void 0!==e.mask&&null!==e.mask?a.mask=de.fromJSON(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=Ie.fromJSON(e.userProfile):a.userProfile=void 0,a},fromPartial(e){const a={...ye};return void 0!==e.mask&&null!==e.mask?a.mask=de.fromPartial(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=Ie.fromPartial(e.userProfile):a.userProfile=void 0,a},toJSON(e){const a={};return void 0!==e.mask&&(a.mask=e.mask?de.toJSON(e.mask):void 0),void 0!==e.userProfile&&(a.userProfile=e.userProfile?Ie.toJSON(e.userProfile):void 0),a}};var we=t(44816),Re=t(60744);const Ne=`${we.I_}/identity`;async function Ae(e,a,{name:t,imageUploadToken:i}){void 0!==t&&await async function(e,a,t){const i=Ce.encode(Ce.fromPartial({mask:{paths:["name"]},userProfile:null!==t?{name:t}:{}}));await e.build().withHost(Ne).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,Re.v)(a))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send()}(e,a,t),void 0!==i&&(null!==i?await async function(e,a,t){await e.build().withHost(Ne).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,Re.v)(a))}/${t}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,a,i):await async function(e,a){await e.build().withHost(Ne).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,Re.v)(a))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,a))}var _e=t(49593);const Pe={type:"error",get message(){return d.Ru.get("user.edit-details.error.file-size-exceeded",10)}},Se={type:"error",get message(){return d.Ru.get("user.edit-details.error.too-small",300,300)}},Te={type:"error",get message(){return d.Ru.get("user.edit-details.error.too-big",1e4,1e4)}},Ee={type:"error",get message(){return d.Ru.get("user.edit-details.error.image-type-not-supported")}},Oe={type:"error",get message(){return d.Ru.get("user.edit-details.error.missing-name")}},Ue={type:"error",get message(){return d.Ru.get("user.edit-details.error.failed-to-save")}},Le={type:"error",get message(){return d.Ru.get("user.edit-details.error.file-upload-failed")}};function Me(e){return{type:"setLoading",loading:e}}function Be(e){return{type:"setMessage",message:e}}function De(e,a){switch(a.type){case"setName":return{...e,name:a.name};case"setMessage":return{...e,message:a.message,loading:!1};case"setLoading":return{...e,loading:a.loading,message:null};case"setImageData":return{...e,imageData:a.data,removeImage:!1};case"setImageToken":return{...e,imageToken:a.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}const Fe="profile-userEditDetails-container",He="profile-userEditDetails-content",Ge="profile-userEditDetails-header",We="profile-userEditDetails-closeButton",qe="vAeyAmeLkDEDKdL9Hou0",ze="dnmzO6yYKkxUV8jl7O1Z",Je="profile-userEditDetails-nameInput",Qe="profile-userEditDetails-name",$e="profile-userEditDetails-label",Ve="profile-userEditDetails-labelText",Ke="dMhJaxli87_22jb_3d9x",Ye="profile-userEditDetails-saveButton",Ze="profile-userEditDetails-disclaimer",Xe=i.memo((function({uri:e,name:a,image:t,onClose:r,shouldOpenImagePicker:s,userCapabilities:n}){const[o,l]=(0,K.p)(),[u,c]=function({name:e,image:a}){return(0,i.useReducer)(De,{loading:!1,message:null,name:e,image:a})}({name:a,image:t}),m=(0,i.useMemo)((()=>{const e=u.imageData||u.image;return e?[{url:e,width:300,height:300}]:[]}),[u.image,u.imageData]);(0,i.useEffect)((()=>{s&&l()}),[l,s]);const g=(0,i.useCallback)((e=>{e===V.i.FILE_TOO_BIG?c(Be(Pe)):e===V.i.IMAGE_TOO_SMALL?c(Be(Se)):e===V.i.IMAGE_TOO_BIG?c(Be(Te)):e===V.i.IMAGE_TYPE_NOT_SUPPORTED&&c(Be(Ee))}),[c]),p=(0,i.useCallback)((()=>{c({type:"removeImage"})}),[c]),f=(0,i.useCallback)((async a=>{a.preventDefault();if(0!==u.name.trim().length){c(Me(!0));try{const a=u.removeImage?null:u.imageToken;await async function(e,{name:a,imageUploadToken:t}){await Ae(_e.n.getInstance(),e,{name:a,imageUploadToken:t})}(e,{name:u.name,imageUploadToken:a}),r({name:u.name,image:u.imageData||u.image})}catch(e){c(Be(Ue))}}else c(Be(Oe))}),[c,r,u.image,u.imageData,u.imageToken,u.name,u.removeImage,e]);return(0,h.jsx)($.A,{isOpen:!0,contentLabel:d.Ru.get("user.edit-details.title"),onRequestClose:()=>r(),children:(0,h.jsxs)("div",{className:Fe,children:[(0,h.jsxs)("div",{className:Ge,children:[(0,h.jsx)(q.E,{as:"h1",variant:"titleSmall",children:d.Ru.get("user.edit-details.title")}),(0,h.jsx)("button",{className:We,onClick:()=>r(),"aria-label":d.Ru.get("close"),children:(0,h.jsx)(z.M,{size:"small"})})]}),u.message&&(0,h.jsx)(Y.z,{isErrorMessage:"error"===u.message.type,message:u.message.message}),(0,h.jsxs)("form",{className:He,onSubmit:f,children:[n.edit_image&&(0,h.jsx)(V.u,{isOpen:o,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:a,imageDataUrl:t}=e;if(c(Be(null)),c({type:"setImageData",data:t}),a)try{c(Me(!0));const e=await async function(e){const a=await _e.n.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:e.type}]).withoutMarket().send();if(!a.body)throw new Error("No upload token received");return a.body.uploadToken}(a);c({type:"setImageToken",token:e}),c(Me(!1))}catch{c(Be(Le))}},onError:g}),(0,h.jsxs)("div",{className:qe,children:[(0,h.jsx)(ne,{name:a,images:m,onClickEdit:l,onClickRemove:p,canEdit:n.edit_image}),u.loading&&(0,h.jsx)("div",{className:ze,children:(0,h.jsx)(J.I,{})})]}),(0,h.jsxs)("div",{className:Qe,children:[(0,h.jsx)("label",{htmlFor:"user-edit-name",className:$e,children:(0,h.jsx)(q.E,{variant:"marginalBold",className:Ve,children:d.Ru.get("user.edit-details.name-label")})}),(0,h.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:W()(Je,Ke),onChange:e=>{c(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:d.Ru.get("user.edit-details.name-placeholder"),maxLength:32,value:u.name,disabled:!n.edit_name})]}),(0,h.jsx)("div",{className:Ye,children:(0,h.jsx)(Q.$,{colorSet:"invertedLight",onClick:f,disabled:u.loading,children:d.Ru.get("save")})}),(0,h.jsx)(q.E,{as:"p",variant:"marginalBold",className:Ze,children:d.Ru.get("image-upload.legal-disclaimer")})]})]})})}));var ea=t(42297),aa=t(85277),ta=t(80352),ia=t(585),ra=t(9830),sa=t(21017),na=t(96437),oa=t(48975),la=t(306);const da=i.memo((function({openModal:e,spec:a,logger:t,name:r,backgroundColor:s,isCurrentUser:n,uri:o}){const[l,u]=(0,la.Y)(o),c=!(0,oa.n)(),m=(0,i.useCallback)((()=>{const e=a.actionBarFactory().followButtonFactory();l?(u(!1),t.logInteraction(e.hitUnfollow({itemToBeUnfollowed:o}))):(u(!0),t.logInteraction(e.hitFollow({itemToBeFollowed:o})))}),[l,t,u,a,o]),g=(0,i.useCallback)((()=>{const e=a.actionBarFactory().contextMenuButtonFactory().hitUiReveal();t.logInteraction(e)}),[t,a]),p=(0,na.j)();return(0,h.jsx)(ea.E,{backgroundColor:s,children:(0,h.jsxs)(aa.S,{children:[!n&&(0,h.jsx)(ra.e,{children:(0,h.jsx)(sa.W,{isFollowing:Boolean(l),onClick:m,disabled:c})}),(0,h.jsx)(ia.b,{menu:(0,h.jsx)(_.B,{uri:o,onEditProfileCallback:e}),children:(0,h.jsx)(ta.e,{label:d.Ru.get("more.label.context",r),onClick:g,size:p})})]})})}));var ua=t(44746),ca=t(78120),ma=t(5389),ga=t(5119),ha=t(60841);function pa({children:e,...a}){return(0,ha.V)()?(0,h.jsx)(h.Fragment,{children:e}):(0,h.jsx)(ga.N,{...a,children:e})}function fa({userUri:e,totalPublicPlaylistsCount:a,followersCount:t,followingCount:i,theyFollowUs:r,spec:s,logger:o}){return(0,h.jsxs)(ua.X,{children:[a>0&&(0,h.jsx)(ca.q,{children:d.Ru.get("user.public-playlists",a)}),(0,h.jsx)(ma.J,{}),t>0&&(0,h.jsx)(pa,{to:(0,n.Qjr)((0,Re.v)(e),["followers"]).toURI(),onClick:(e,a)=>{if(!a)return;const t=s.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});o.logInteraction(t)},children:(0,h.jsx)(q.E,{variant:"bodySmall",children:d.Ru.get("user.followers",t)})}),(0,h.jsx)(ma.J,{}),i>0&&(0,h.jsx)(pa,{to:(0,n.Qjr)((0,Re.v)(e),["following"]).toURI(),onClick:(e,a)=>{if(!a)return;const t=s.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});o.logInteraction(t)},children:(0,h.jsx)(q.E,{variant:"bodySmall",children:d.Ru.get("user.following",i)})}),(0,h.jsx)(ma.J,{}),r&&(0,h.jsx)(ca.q,{children:d.Ru.get("user.they_follow_us")})]})}var xa=t(39439),va=t(46136),ba=t(71070),ja=t(34978),ya=t(30368),ka=t(76762),Ia=t(54878),Ca=t(62355),wa=t(22360),Ra=t(76422),Na=t(83298),Aa=t(37502),_a=t(97998),Pa=t(74618),Sa=t(1782),Ta=t(8562),Ea=t(23602),Oa=t(61056),Ua=t(13670),La=t(53458),Ma=t(49157),Ba=t(8766),Da=t(3568),Fa=t(57836),Ha=t(43671),Ga=t(24395),Wa=t(21081),qa=t(82362),za=t(89979),Ja=t(22810);const Qa=i.memo((function({uri:e,name:a,duration_ms:t,artists:i,album:r,contextUri:s,isExplicit:n,isMOGEFRestricted:o,isPlayable:l,index:u,imgUrl:c,usePlayContextItem:m}){const{spec:g}=(0,qa.r)(va.i,{data:{position:u,reason:"",uri:e}}),{isActive:p,isPlaying:f,triggerPlay:x,togglePlay:v}=m({uri:e,index:u}),b=(0,Wa.T)(e),{isPlayable:j,isAnyArtistBanned:y}=(0,Ba.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:i?.map((e=>e.uri))}),{unBanArtists:k}=(0,Ma.M)(i.map((e=>e.uri))),{badges:I,hasBadges:C}=(0,za.b)({downloadAvailability:b,isExplicit:n,isMOGEFRestricted:o}),w=i?.map((e=>e.name)).join(d.Ru.getSeparator())||"";return(0,h.jsx)(Ga.pZ,{value:"row",index:u,children:(0,h.jsx)(A.h,{menu:(0,h.jsx)(ba.P,{uri:e,albumUri:r.uri,artists:i,contextUri:s}),children:(0,h.jsxs)(Ua.w,{uri:e,contextUri:s,onTriggerPlay:(e,a)=>{x({loggingParams:a})},isActive:p,index:u,ariaRowIndex:u+1,isPlayable:j,isAnyArtistBanned:y,handleArtistBanUndoClick:k,ageRestricted:o,dragMetadata:{name:a,createdBy:w},spec:g,isExplicit:n,children:[(0,h.jsx)(Pa.y,{ariaColIndex:0,children:(0,h.jsx)(Ra.$,{uri:e,playAriaLabel:d.Ru.get("tracklist.a11y.play",a,w),isPlaying:f,isActive:p,onClick:(e,a)=>{j&&v({loggingParams:a})},spec:g,children:(0,h.jsx)(Aa.a,{children:u+1})})}),(0,h.jsxs)(Sa.U,{ariaColIndex:1,children:[(0,h.jsx)(Ca.e,{src:c}),(0,h.jsxs)(wa.l,{children:[(0,h.jsx)(Oa.p,{titleText:a,children:a}),C&&(0,h.jsxs)(ka.P,{children:[I.download&&(0,h.jsx)(Fa._,{}),I.explicit&&(0,h.jsx)(Da.U,{}),I.nineteen&&(0,h.jsx)(Ha.q,{className:Ja.A.nineteen,size:16})]}),(0,h.jsx)(Ea.p,{children:(0,h.jsx)(ya.l,{artists:i,spec:g})})]})]}),(0,h.jsx)(Ta.o,{ariaColIndex:2,children:(0,h.jsx)(ja.g,{uri:r.uri,name:r.name,creatorUri:i?.[0]?.uri,spec:g,children:r.name})}),(0,h.jsxs)(_a.l,{ariaColIndex:3,children:[(0,h.jsx)(La.d,{uri:e,spec:g}),(0,h.jsx)(Ia.P,{duration:t}),(0,h.jsx)(Na.Y,{menu:(0,h.jsx)(ba.P,{uri:e,albumUri:r.uri,artists:i,contextUri:s}),label:d.Ru.get("more.label.track",a,w),spec:g})]})]})})})}),((e,a)=>e.uri===a.uri));var $a=t(40997),Va=t(33279),Ka=t(82261),Ya=t(46307),Za=t(88176),Xa=t(78172),et=t(95717);const at=i.memo((function({tracks:e,hasHeaderRow:a=!1,nrTracksVisible:t,uri:r}){const s=(0,Re.v)(r),o=(0,n.duX)(s,"tracks").toURI(),l=(0,i.useMemo)((()=>t?e.slice(0,t):e),[t,e]),{usePlayContextItem:u}=(0,Ya.P)({uri:o,pages:[{items:e.map((e=>({type:Xa.c.TRACK,uri:e.uri,uid:null,provider:null})))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),c=(0,i.useCallback)(((e,a)=>{const t=(0,et.g)(e?.albumOfTrack?.coverArt?.sources,{desiredSize:40});return(0,h.jsx)(Qa,{index:a,uri:(0,Ka.a)(e),duration_ms:e.duration.totalMilliseconds,name:e.name,artists:e.artists.items.map((({uri:e,profile:{name:a}})=>({uri:e,name:a}))),album:e.albumOfTrack,isPlayable:!0,isExplicit:e.contentRating?.label===Za.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===Za.x7.NineteenPlus,imgUrl:t?.url||"",contextUri:o,usePlayContextItem:u},a+e.uri)}),[o,u]),m=(0,i.useMemo)((()=>[Va.$.INDEX,Va.$.TITLE_AND_ARTIST,Va.$.ALBUM,Va.$.DURATION]),[]),g=(0,i.useCallback)((e=>({uri:e.uri})),[]);return(0,h.jsx)(Ga.pZ,{value:"user-top-tracks-tracklist",children:(0,h.jsx)($a.S4,{ariaLabel:d.Ru.get("top_tracks_this_month"),renderRow:c,nrTracks:l.length,tracks:l,resolveItem:g,headerTop:0,hasHeaderRow:a,columns:m,columnPersistenceKey:"user-top-tracks-tracklist"})})}),((e,a)=>e.tracks===a.tracks));var tt=t(42262),it=t(99802);const rt=i.memo((function({tracks:e,title:a,subtitle:t,seeAllUri:r,className:s,uri:n,spec:o}){const l=(0,it.s)(),d=(0,i.useCallback)((()=>{const e=o.titleLinkFactory().hitUiNavigate({destination:r});l.logInteraction(e)}),[l,r,o]),u=(0,i.useCallback)((()=>{const e=o.titleLinkFactory().hitUiNavigate({destination:r});l.logInteraction(e)}),[l,r,o]);if(!e||0===e.totalCount||0===e.items.length)return null;const c=e.totalCount>4;return(0,h.jsxs)("section",{className:s,children:[(0,h.jsx)(xa.k,{title:a,subtitle:t,seeAllUri:r,showSeeAll:c,onClickTitle:d,onClickSeeAll:u}),(0,h.jsx)(tt.r,{spec:o,children:(0,h.jsx)(at,{tracks:e.items,uri:n,nrTracksVisible:4})})]})}),((e,a)=>e.tracks===a.tracks));function st(e,a){switch(a.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var nt=t(44947),ot=t(49810);const lt=new nt.l("userTopContent","query","feb6d55177e2cbce2ac59214f9493f1ef2e4368eec01b3d4c3468fa1b97336e2",null);function dt(e){return"Artist"===e.__typename}function ut(e){if("ArtistPageV2"!==e?.topArtists?.__typename)return null;const a=e.topArtists.items.map((e=>e.data)).filter(dt);return 0===a.length?null:{totalCount:e.topArtists.totalCount,items:a}}function ct(e){return"Track"===e.__typename}function mt(e){if("TrackPageV2"!==e?.topTracks?.__typename)return null;const a=e.topTracks.items.map((e=>e.data)).filter(ct).filter((e=>null!==e.albumOfTrack));return 0===a.length?null:{totalCount:e.topTracks.totalCount,items:a}}const gt=Za.xE.Affinity,ht=Za.Nm.ShortTerm;function pt({includeTopArtists:e,includeTopTracks:a,topArtistsLimit:t,topTracksLimit:i}){const{data:r,loading:s,error:n}=(o={includeTopArtists:e,topArtistsInput:{offset:0,limit:t,sortBy:gt,timeRange:ht},includeTopTracks:a,topTracksInput:{offset:0,limit:i,sortBy:gt,timeRange:ht}},l={enabled:e||a,gcTime:18e5,staleTime:3e5},(0,ot.I)(lt,o,l));var o,l;return null!==n?{topTracks:null,topArtists:null,loading:s,error:new Error("Failed loading user top content!")}:{topTracks:mt(r?.me?.profile??null),topArtists:ut(r?.me?.profile??null),loading:s,error:null}}var ft=t(46726),xt=t(12469),vt=t(9043),bt=t(90630),jt=t(98962),yt=t(70493),kt=t(9875),It=t(26239),Ct=t(17265);const wt="J6PX6RfvHlA4BPp7_8sJ",Rt="DJCugGBTcU3io4Q28BHl",Nt="vpTiIBeCfuGKOTj3Tzg6",At="eGAuBpyB1eqsyPKbaQU7",_t="GoG_UTK1uLaPCfhipeF0",Pt=18e5,St=3e5,Tt=(0,C.Mz)(jt.mB,(e=>e?.images||[])),Et=({uri:e,isCurrentUser:a})=>{const t=(0,I.d4)(jt.mB)?.uri,r=(0,I.d4)(jt.Mn),s=(0,I.d4)(Tt),o=(0,I.wA)(),l=(0,k.jE)(),c=(0,w.NC)(bt.DGB,{loadingValue:!0}),g=(0,i.useMemo)((()=>(0,et.g)(s)),[s]),[{isModalOpen:v,modalVariant:b,shouldOpenImagePicker:j},y]=function(){const[e,a]=(0,i.useReducer)(st,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,a]}(),{data:C,loading:G,queryKey:W}=(0,x.Z)(f.E$,[{uri:e,playlists:10,artists:10,episodes:10}],{gcTime:Pt,staleTime:St}),q=(0,ha.V)();(0,vt.N)(xt.mc.OPERATION_COMPLETE,(()=>{l.invalidateQueries({queryKey:W})})),(0,It.l)(kt.UV.OPERATION_COMPLETE,(()=>{l.invalidateQueries({queryKey:W})}));const z=C?.public_playlists,J=C?.is_verified,Q=C?.recently_played_artists,$=a?g?.url||"":C?.image_url||"",V=(0,Re.v)(e),K=(a?r:C?.name)||"",Y=(0,ft.H)(C?.image_url||null),{spec:Z,logger:X}=(0,qa.r)(R._,{data:{uri:e}}),ee=(0,i.useMemo)((()=>Z.sectionTopTracksFactory()),[Z]),ae=!q&&(!1!==C?.show_follows||a),te=a&&c,{data:ie,loading:re}=(0,x.Z)(f.mH,[e],{enabled:ae,gcTime:Pt,staleTime:St}),se=ie?.profiles,{data:ne,loading:oe}=(0,x.Z)(f.SR,[e],{enabled:ae,gcTime:Pt,staleTime:St}),le=ne?.profiles,de=se?.some((e=>e.uri===t)),{topArtists:ue,topTracks:ce,loading:me}=pt({includeTopArtists:te,includeTopTracks:te,topArtistsLimit:10,topTracksLimit:4}),ge=(0,i.useCallback)((e=>{y({type:"CLOSE_MODAL"}),e&&(o((0,yt.IE)(e.name)),o((0,yt.ZQ)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[y,o]),he=(0,i.useCallback)((()=>{y({type:"OPEN_MODAL"});const e=Z.headerFactory().usernameFactory().hitUiReveal();X.logInteraction(e)}),[X,y,Z]),pe=(0,i.useCallback)((()=>{y({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=Z.headerFactory().profileImageFactory().hitUiReveal();X.logInteraction(e)}),[X,y,Z]),fe=(0,i.useMemo)((()=>[{url:$}]),[$]);if(!C||G||re||oe||me)return(0,h.jsx)(u.LoadingPage,{hasError:!1,errorMessage:d.Ru.get("error.not_found.title.page")});const xe=ae&&!!le?.length,ve=ae&&!!se?.length,be=(0,h.jsx)(_.B,{uri:C.uri});return(0,h.jsxs)("div",{className:wt,children:[(0,h.jsx)(P.Q,{children:K}),(0,h.jsxs)(T.z,{backgroundColor:Y,children:[(0,h.jsx)(U.h,{children:(0,h.jsx)(A.h,{menu:be,children:(0,h.jsx)(L.X,{text:K})})}),(0,h.jsx)(A.h,{menu:be,children:(0,h.jsx)(E.X,{children:(0,h.jsx)(S.M,{canEdit:a&&!C.edit_image_disabled,name:K,images:fe,onClick:pe,placeholderType:"user",shape:M.u.CIRCLE})})}),(0,h.jsxs)(O.Y,{children:[(0,h.jsx)(B.B,{children:J?(0,h.jsx)(F.M,{text:d.Ru.get("card.tag.profile")}):d.Ru.get("card.tag.profile")}),(0,h.jsx)(A.h,{menu:be,children:(0,h.jsx)(D.mm,{canEdit:a&&!C.edit_name_disabled,editTitle:d.Ru.get("playlist.edit-details.title"),onClick:he,children:K})}),(0,h.jsx)(fa,{userUri:e,totalPublicPlaylistsCount:C.total_public_playlists_count,followersCount:C.followers_count,followingCount:C.following_count,theyFollowUs:!!de,spec:Z,logger:X})]})]}),(0,h.jsx)(da,{openModal:he,spec:Z,logger:X,name:K,backgroundColor:Y,isCurrentUser:a,uri:e}),(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsxs)(tt.r,{spec:Z,children:[a&&(0,h.jsxs)(h.Fragment,{children:[null!==ue&&(0,h.jsx)(H.p,{className:Rt,total:ue.totalCount,title:d.Ru.get("top_artists_this_month"),subtitle:d.Ru.get("only_visible_to_you"),seeAllUri:(0,n.Qjr)(V,["top","artists"]).toURI(),id:"top-artists",index:0,children:ue.items.map(((e,a)=>(0,h.jsx)(m.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))}),(0,h.jsx)(rt,{className:Rt,title:d.Ru.get("top_tracks_this_month"),subtitle:d.Ru.get("only_visible_to_you"),seeAllUri:(0,n.Qjr)(V,["top","tracks"]).toURI(),uri:e,tracks:ce,spec:ee})]}),(0,h.jsx)(H.p,{className:Rt,total:C.total_public_playlists_count,title:d.Ru.get("public_playlists"),seeAllUri:(0,n.Qjr)(V,["playlists"]).toURI(),id:"playlists",index:1,children:z?.map(((e,a)=>(0,h.jsx)(N.B,{index:a,uri:e.uri,name:e.name,images:[{url:(0,Ct.m)({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?d.Ru.get("user.followers",e.followers_count):""},e.uri)))}),Q?.length?(0,h.jsx)(H.p,{className:Rt,total:Q?.length,title:d.Ru.get("recently_played_artists"),seeAllUri:(0,n.Qjr)(V,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:Q?.map(((e,a)=>(0,h.jsx)(m.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,xe?(0,h.jsx)(H.p,{className:Rt,title:d.Ru.get("followers"),total:le?.length,seeAllUri:(0,n.Qjr)(V,["followers"]).toURI(),id:"followers",index:3,children:le?.map(((e,a)=>(0,h.jsx)(p,{index:a,entity:e},e.uri)))}):null,ve?(0,h.jsx)(H.p,{className:Rt,title:d.Ru.get("following"),total:se?.length,seeAllUri:(0,n.Qjr)(V,["following"]).toURI(),id:"following",index:4,children:se?.map(((e,a)=>(0,h.jsx)(p,{index:a,entity:e},e.uri)))}):null,a&&v&&("editProfile"===b?(0,h.jsx)(Xe,{uri:e,name:K,image:$,onClose:ge,shouldOpenImagePicker:j,userCapabilities:{edit_image:!C?.edit_image_disabled,edit_name:!C?.edit_name_disabled}}):null)]})})]})},Ot=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,x.Z)(f.Eo,[{uri:a}]),{public_playlists:s,total_public_playlists_count:n=0}=t||{};return i?(0,h.jsx)(u.LoadingPage,{hasError:null!==r,errorMessage:d.Ru.get("error.not_found.title.page")}):(0,h.jsx)(c.$,{total:n,title:d.Ru.get("public_playlists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:s?.map(((e,a)=>(0,h.jsx)(N.B,{index:a,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?d.Ru.get("user.followers",e.followers_count):"",images:[{url:(0,Ct.m)({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)))})},Ut=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,x.Z)(f.sL,[{uri:a,limit:50}]),s=t?.artists;return i?(0,h.jsx)(u.LoadingPage,{hasError:null!==r,errorMessage:d.Ru.get("error.not_found.title.page")}):(0,h.jsx)(c.$,{total:s?.length,title:d.Ru.get("recently_played_artists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:s?.map(((e,a)=>(0,h.jsx)(m.a,{index:a,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)))})},Lt=()=>{const{topArtists:e,loading:a,error:t}=pt({includeTopArtists:!0,includeTopTracks:!1,topArtistsLimit:100,topTracksLimit:0});return a?(0,h.jsx)(u.LoadingPage,{hasError:null!==t,errorMessage:d.Ru.get("error.not_found.title.page")}):null===e?null:(0,h.jsx)(c.$,{total:e.items.length,title:d.Ru.get("top_artists_this_month"),subtitle:d.Ru.get("only_visible_to_you"),showAll:!0,fullPage:!0,rowGap:l.lT,children:e.items.map(((e,a)=>(0,h.jsx)(m.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))})},Mt=({isCurrentUser:e})=>e?(0,h.jsx)(Lt,{}):(0,h.jsx)(u.LoadingPage,{hasError:!0,errorMessage:d.Ru.get("error.not_found.title.page")}),Bt=({uri:e})=>{const{topTracks:a,loading:t,error:i}=pt({includeTopArtists:!1,includeTopTracks:!0,topArtistsLimit:0,topTracksLimit:100});return t?(0,h.jsx)(u.LoadingPage,{hasError:null!==i,errorMessage:d.Ru.get("error.not_found.title.page")}):null===a?null:(0,h.jsxs)("div",{className:W()("contentSpacing",Nt),children:[(0,h.jsxs)("div",{className:At,children:[(0,h.jsx)(q.E,{as:"h1",variant:"titleMedium",className:_t,children:d.Ru.get("top_tracks_this_month")}),(0,h.jsx)(q.E,{as:"p",variant:"bodySmall",children:d.Ru.get("only_visible_to_you")})]}),(0,h.jsx)(at,{tracks:a.items,uri:e,hasHeaderRow:!0})]})},Dt=({uri:e,isCurrentUser:a})=>a?(0,h.jsx)(Bt,{uri:e}):(0,h.jsx)(u.LoadingPage,{hasError:!0,errorMessage:d.Ru.get("error.not_found.title.page")});var Ft=t(33659);const Ht="cubl27eU3uN3hmAiqdmQ",Gt=(0,i.memo)((function(){const{userId:e=""}=(0,r.g)(),a=decodeURIComponent(e),t=(0,n.Qjr)(a).toURI(),i=(e=>{const a=(0,ha.V)(),t=(0,Ft.C)()?.username;return!a&&t===e})(a);return(0,h.jsx)("section",{className:Ht,children:(0,h.jsxs)(r.BV,{children:[(0,h.jsx)(r.qh,{path:"playlists",element:(0,h.jsx)(o.e,{pageId:s.$h.PROFILE_PLAYLISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Ot,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"top/tracks",element:(0,h.jsx)(o.e,{pageId:s.$h.PROFILE_TOP_TRACKS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Dt,{uri:t,isCurrentUser:i})})})}),(0,h.jsx)(r.qh,{path:"top/artists",element:(0,h.jsx)(o.e,{pageId:s.$h.PROFILE_TOP_ARTISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Mt,{isCurrentUser:i})})})}),(0,h.jsx)(r.qh,{path:"recently-played-artists",element:(0,h.jsx)(o.e,{pageId:s.$h.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Ut,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"following",element:(0,h.jsx)(o.e,{pageId:s.$h.PROFILE_FOLLOWING,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(y,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"followers",element:(0,h.jsx)(o.e,{pageId:s.$h.PROFILE_FOLLOWERS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(v,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"/",element:(0,h.jsx)(o.e,{pageId:s.$h.PROFILE,children:(0,h.jsx)(Et,{uri:t,isCurrentUser:i})})})]})})}))},96437:(e,a,t)=>{t.d(a,{j:()=>s});var i=t(20951),r=t(33059);const s=()=>{const e=(0,r.y)();return e===i.E.SMALL||e===i.E.XSMALL?"medium":"large"}},33659:(e,a,t)=>{t.d(a,{C:()=>s});var i=t(62411),r=t(78172);const s=()=>{const e=(0,i.d4)((e=>e.session?.user));return e?{type:r.c.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:a,height:t})=>({url:e,width:a||void 0,height:t||void 0})))}:null}},62067:(e,a,t)=>{t.d(a,{B:()=>i,P:()=>s});const i={SMALL:192,BIG:232},r={small:{width:64,height:64},standard:{width:300,height:300},large:{width:640,height:640},xlarge:{width:1280,height:1280}};function s(e){const a=function(e=[]){const a=e.map(n),t=a.filter((e=>e.width>=i.SMALL&&e.url)).sort(((e,a)=>e.width-a.width));return t.length?t:a}(e),[t]=a,r=t?.url||null;if(!r)return[];return[r,a.filter((({url:e,width:a})=>e&&a)).map((({url:e,width:a})=>`${e} ${a/2}w, ${e} ${a}w`)).join(", "),`(min-width: 1280px) ${i.BIG}px, ${i.SMALL}px`]}function n(e){if(!e.label)return e;const{width:a,height:t}=r[e.label];return{url:e.url,width:a,height:t}}},8766:(e,a,t)=>{t.d(a,{g:()=>o});var i=t(49889);var r=t(48975),s=t(21081),n=t(45176);function o(e,{isPlayable:a=!0,isLocal:t=!1,isOutOfMarket:o=!1,artistUris:l=[],hasContextualBan:d=!1}){const u=(0,s.T)(e),c=(0,r.n)(),m=u===n.kw.YES,g=function(...e){return(0,i.o)("artistban",e)}(...l).some(Boolean);return{isPlayable:a&&(c||m||t)&&!o&&!g&&!d,isAnyArtistBanned:g}}},46726:(e,a,t)=>{t.d(a,{H:()=>o});var i=t(30758),r=t(668),s=t(7180),n=t(63317);function o(e=null,a=r.l0o){const{backgroundColor:t}=(0,s.oI)(),o=(0,s.as)(),l=(0,n.z)(e);return(0,i.useEffect)((()=>(o((0,s.Mo)(l)),()=>{o((0,s.Hf)())})),[l,o]),t||a}},82261:(e,a,t)=>{t.d(a,{a:()=>i});const i=e=>e?.linked_from?.uri||e.uri},14306:(e,a,t)=>{t.d(a,{b:()=>s,g:()=>r});var i=t(30758);let r=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function s(e,a){const t=e?r.loading:r.error,[s,n]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const t=()=>{n(r.loaded)},i=()=>{n(r.error)};if(!e)return n(r.error),()=>{};n(r.loading);const s=document.createElement("img");return s.addEventListener("load",t),s.addEventListener("error",i),s.setAttribute("src",e),a&&s.setAttribute("srcSet",a),()=>{s.removeEventListener("load",t),s.removeEventListener("error",i)}}),[e,a]),s}},26239:(e,a,t)=>{t.d(a,{l:()=>s});var i=t(30758),r=t(36663);function s(e,a){const t=(0,r.f)(),s=(0,i.useRef)(a);(0,i.useLayoutEffect)((()=>{s.current=a})),(0,i.useEffect)((()=>t.getEvents().addListener(e,(e=>s.current(e)))),[e,t])}},83302:(e,a,t)=>{t.d(a,{A:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",ActionBar:"main-actionBar-ActionBar",ActionBarRow:"main-actionBar-ActionBarRow"}},48998:(e,a,t)=>{t.d(a,{A:()=>i});const i={separator:"ArQQy9kpoXLmafHpoi6u",bullet:"FGrkEs4xa3OtWqaSmtvc",textSeparator:"twKbCm9ojEsawfh4KCY8"}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map